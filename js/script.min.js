eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3 1T={x:{6:{\'3N 1j\':\'3N I 1j\',\'5t Z\':\'5s Z\',\'5r Z\':\'5q Z\',\'5p 1J\':\'5o 1J\',\'3J 5n\':\'5m 5l\',\'5k 3M\':\'3M\',\'3L 5j\':\'3L 2r\',\'3K\':\'3K 5i\',\'5h 2s\':\'5g 5f\',\'3J 3I 5e\':\'3I 5d\',\'3H 2v\':\'3H 5c 2v\',\'3G 5b\':\'3G\',\'5a\':\'59\',\'3F 2q\':\'3F 58\',\'2Z 3E\':\'3E\',\'57 1K\':\'56 1K\',\'3D 1j\':\'3D\'}},11:[\'q Z\',\'q 2r\',\'q 1J\',\'q 2q\',\'q 1j\',\'q 1K\',\'q 55\',\'q 54\',\'q 2v\',\'q 2s\',\'q 53\']};k 2u=\'26\';k 1Q=\'\';k 1P=\'2d\';3 27=(c,d)=>{3C(d){1l\'26\':c.1n((a,b)=>(a.6>b.6)?1:((b.6>a.6)?-1:0));1O;1l\'52\':c.1n((a,b)=>(a.6<b.6)?1:((b.6<a.6)?-1:0))}J c};3 3A=(c)=>{k 1m;27(c,2u);g(1P!==\'2d\'){1m=c.Q(({6,f})=>f.4.H().1d()===1P.1d()&&6.H().m(1Q))}R{1m=c.Q(({6})=>6.H().m(1Q))}g(!1m.B){1r.n=\'<p Y="51-4Z">4Y 4X</p>\'}R{1Y(1m)}};3 12=(3B,d,c)=>{3C(3B){1l\'2B\':2u=d.H();1O;1l\'4\':1Q=d.H();1O;1l\'2z\':1P=d.H();1O}3A(c)};3 1f=5.7(\'.4W\');3 3w=5.7(\'.4V\');3 3c=5.7(\'.4U\');3 2t=5.7(\'.4T\');3 3v=5.7(\'.4S\');3 G=5.7(\'.4R\');3 3u=5.7(\'.4Q\');3 F=5.7(\'.4P\');3 1h=5.7(\'.4O\');3 1g=5.7(\'.4N\');3 1i=5.7(\'.4M\');3 1H=5.7(\'.4L\');3 1I=5.7(\'.4K\');3 1N=5.7(\'#17\');3 3f=()=>{5.23.s.3y=\'4J\';1f.4I();1N.s.3x=\'0\'};3 2e=()=>{G.1G.u.U(\'1F\');G.1E=3z;F.1G.u.U(\'1F\');F.1E=3z;1g.s.16=\'1X\';1I.E=\'\';1i.E=\'\';1H.1D=\'\';5.23.s.3y=\'4H\';1N.s.16=\'1X\';1N.s.3x=\'1\';1f.4G()};3 3d=(e)=>{3 1k=3w.4F();g(((e.1M!==0&&e.1M<1k.4E)||(e.1M!==0&&e.1M>1k.4D)||(e.1L!==0&&e.1L<1k.4C)||(e.1L!==0&&e.1L>1k.4B))&&(e.z!==1g)){2e()}};3 3l=(8,A)=>{3{1C,6,f,i,h}=8;2t.E=1C.1d();2t.3a=6;3v.n=6;G.n=`<w d=\'${f.4}\'2c>${f.4}</w>`;3u.n=i;F.n=`<w d=\'${h.H()}\'2c>${h}</w>`;1h.n=A};3 3k=(8)=>{g(8.f.4!==\'j\'){3 3t=[\'1j\',\'2s\',\'1K\',\'1J\',\'Z\',\'2r\',\'2q\'];k{4,D}=8.f;4=4.37(\'q\')[1].1d();3 3s=`./O/2p/${4}.2o`;1f.s.4A(\'::4z\',\'4y-4x: #4w\');1I.E=3t.m(4)?3s:`./O/2p/3r.2o`;1i.E=`./O/1i/${4}.3q`;1H.1D=D!==\'j\'?D:\'3p 3o 3n\'}R{1I.E=`./O/2p/3r.2o`;1i.E=`./O/4v.3q`;1H.1D=\'3p 3o 3n\'}};3 3i=(e)=>{e.14();G.1G.u.K(\'1F\');G.1E=20;F.1G.u.K(\'1F\');F.1E=20;1g.s.16=\'2P\'};3 3h=(e,8)=>{e.14();8.f=1s.1u((1t)=>1t.4===e.z.d);1h.1D=\'2n 2m 2l 2k 2j N 2i 2h, A 2g 2f:\';1h.n=\'2n 2m 2l 2k 2j N 2i 2h, A 2g 2f: <3m>\'+1o(1a,8)};3 3g=(e,8)=>{e.14();8.h=e.z.d===\'4u\'||e.z.d===\'4t\'?\'j\':\'3j\';1h.n=\'2n 2m 2l 2k 2j N 2i 2h, A 2g 2f: <3m>\'+1o(1a,8)};3 3e=(8,A)=>{3l(8,A);3k(8);1s.T((e)=>(G.n+=`<w d=\'${e.4}\'>${e.4}</w>`));[\'4s\',\'3j\'].T((e)=>(F.n+=`<w d=\'${e.H()}\'>${e}</w>`));1g.r(\'S\',3i);G.r(\'1p\',(e)=>3h(e,8));F.r(\'1p\',(e)=>3g(e,8))};3 3b=(8)=>{g(8){3f();3 A=1o(1a,8);3e(8,A)}};1f.r(\'S\',3d);3c.r(\'S\',2e);3 1Y=(c)=>{1r.n=\'\';c.T((8)=>{3{6,1C}=8;3 1e=5.1B(\'4r\');1e.u.K(\'4q\',\'4p\');1e.r(\'S\',()=>3b(8));1e.n+=`<X Y=\'4o 4n\'><X Y=\'4m\'><O Y=\'O\'E=\'${1C}\'3a=\'${6}\'4l=\'39\'4k=\'39\'></X><X Y=\'4j\'><p Y=\'4i\'>${6}</p></X></X>`;1r.2b(1e)})};3 2D=(c)=>{3 15=5.1B(\'15\');3 38=5.1B(\'4h\');38.1y=\'13\';3 W=5.1B(\'4g\');W.4f=\'13\';W.u.K(\'4e\');W.n=`<w d=\'2d\'2c>4d</w>`;c.T(({4})=>W.n+=`<w d=\'${4}\'>${4}</w>`);15.2b(W);2O.2b(15)};k 1a;k 1s;3 1x=5.7(\'#1x\');3 2R=V()=>{3{v}=L 29.28(\'2X://4c.2W/2V/4b/4a\');1x.d+=1R.2T(1.2S);J v};3 36=V(1z,C)=>{k y=[];1y(3 f N 1z){3{v}=L 29.28(f);y.1b({4:v.4.37(\'N\')[0].1d(),D:v.D?v.D:\'j\'})}g(y.B>1){k 2a=y.1u((e)=>e.4.m(C));y=[2a?2a:y[0]]}J y};3 2U=V(v,C)=>{1y(k{1z,1c,i,h,30,1A}N v){g(1A&&1A.B>0&&1A[0]!==\'\'){k y=L 36(1z,C);g(i){i=i.35(0,i.34(\'33\')+2);g(i[0].32(/^[1-9][0-9]*$/))i=\'31 \'+i}g(h){h=h.35(0,h.34(\'33\')+2);g(h[0].32(/^[1-9][0-9]*$/))h=\'31 \'+h}3 P=30.1u((e)=>e.m(\'49\')||e.m(\'48\')||e.m(\'47\')||e.m(\'46\')||e.m(\'2Y\')||e.m(\'2Z\')||e.m(\'2Y\'));J{f:y.B>0?y[0]:{4:\'j\',D:\'j\'},1c:1c?1c:\'j\',i:i?i:\'j\',h:h?h:\'j\',P:P?P:\'\'}}}};3 2Q=V(c)=>{k l=[];k t=[];1y(k x N c){3 4=1T.x.6[x.6];x.6=4?4:x.6;3{C,6}=x;L 29.28(\'2X://45.2W/2V/24?4=\'+6).2E(V({v})=>{g(v&&v.B>0){3 M=L 2U(v,C);g(M){l.1b({...x,...M});t.1b(M.f)}}R{3 M={f:{4:\'j\',D:\'j\'},1c:\'j\',i:\'j\',h:\'j\'};l.1b({...x,...M});t.1b(M.f)}1x.d+=1R.2T(1.2S)})}l=l.Q((1v,1w)=>1w===l.1S((o)=>1v.6===o.6));l=27(l,\'26\');t=t.Q((1v,1w)=>1w===t.1S((o)=>1v.4===o.4));t.1n((a,b)=>(a.4>b.4?1:b.4>a.4?-1:0));l.T((e)=>{g(e.f.4===\'j\'){3 25=t.1u((1t)=>e.C!==\'\'&&1t.4.m(e.C));e.f=25?25:e.f}});1a=l;1s=t;J{l,t}};3 2F=V()=>{3 24=L 2R();J L 2Q(24)};3 17=5.7(\'#17\');17.s.16=\'2P\';3 2C=5.7(\'.44\');3 1r=5.7(\'.43\');3 2O=5.7(\'.2N\');3 22=5.7(\'.42\');3 1q=5.7(\'.41\');3 1Z=5.7(\'.2N\');40.r(\'21\',()=>{k 19=5.7(\'.3Z\');g(5.23.2M>50||5.3Y.2M>50){g(5.7(\'.2L\').2K<2J){19.u.K(\'19\')}22.u.K(\'21\')}R{g(5.7(\'.2L\').2K>2J){19.u.U(\'19\')}22.u.U(\'21\')}});k 18=20;1q.r(\'S\',()=>{18?1Z.u.U(\'2I\'):1Z.u.K(\'2I\');18?(1q.s.2H=\'2G(0)\'):(1q.s.2H=\'2G(3X)\');18=!18});2F().2E(({l,t})=>{1Y(l);2D(t);17.s.16=\'1X\';2C.U();3 1U=5.7(\'.2A\');3 13=5.7(\'#13\');3 1W=5.7(\'#1W\');3 1V=5.7(\'#1V\');1W.r(\'1p\',({z})=>12(\'2B\',z.d,l));5.3W(\'15\').T(e=>e.r(\'3V\',(e)=>e.14()));1U.r(\'2A\',(e)=>{e.14();12(\'4\',e.z.d,l)});13.r(\'1p\',({z})=>12(\'2z\',z.d,l));1V.r(\'S\',()=>{1U.d=\'\';12(\'4\',\'\',l)})});3 1o=(c,8)=>{k 10;3 11=1T.11;c=c.Q(({f,h})=>11.m(f.4)&&h===\'j\');g(!c.m(8)){g(8.h!==\'j\')10=(\'2y, 2x x 2w 3U\');g(!11.m(8.f.4))10=(\'2y, 2x x 2w 3T 3S 3R q\')}R{c=c.Q(({P})=>P!==\'\');c.1n((a,b)=>(a.i<b.i)?1:((b.i<a.i)?-1:0));3 B=c.B;c=c.1S(({6})=>6===8.6);10=((((1/B)*3Q)+1R.3P(c)).3O(2)+\'%\')}J 10};',62,340,'|||const|name|document|fullName|querySelector|hero||||list|value||house|if|died|born|Unknown|let|characterList|includes|innerHTML|||House|addEventListener|style|houseList|classList|data|option|character|houseInfo|target|chance|length|lastName|words|src|heroDied|heroHouse|toLowerCase||return|add|await|addon|of|img|title|filter|else|click|forEach|remove|async|familiesList|div|class|Stark|winner|greatHouses|handleFilter|houseSort|preventDefault|form|display|root|isOpen|mainNew|globalCharacterList|push|gender|trim|charactersItem|modalHero|changeBtn|heroChance|houseLogo|Baratheon|dialogDimensions|case|filteredCharacters|sort|winChance|change|dropdown|charactersList|globalHousesList|el|find|obj|index|loaderBar|for|allegiances|tvSeries|createElement|imageUrl|textContent|disabled|editable|parentElement|houseWords|modalImg|Lannister|Greyjoy|clientY|clientX|rootEl|break|houseSortValue|nameSortValue|Math|findIndex|CONSTANTS|nameFind|clearInput|alphabetSort|block|renderCharacters|filterBlock|false|scroll|headerFixed|body|characters|findHouse|asc|handleAlphabetFilter|get|axios|uniqueHouse|append|selected|all|closeModal|be|will|book|original|author|an|was|you|If|svg|houseSVG|Tyrell|Targaryen|Bolton|heroImage|alphabetSortValue|Martell|is|your|Sorry|houses|input|alphabetic|loader|renderFamiliesList|then|getFullInfo|rotate|transform|active|560|clientHeight|container|scrollTop|filter__block|inputBlock|none|getAdditionalInfo|getCharactersList|85|round|setDataFromAPI|api|com|https|Ser|Lord|titles|In|match|AC|indexOf|substring|getHousesList|split|familyLabel|150|alt|handleModal|modalClose|handleOutsideClick|renderModalData|openModal|handleDiedChange|handleHouseChange|handleChangeBtnClick|Died|updateModalImg|setHeroProperties|br|Thrones|Of|Game|png|throne|imageBackground|files|heroBorn|heroName|modalWrapper|opacity|overflow|true|characterFilter|type|switch|Gendry|Bronn|Olenna|Tormund|Oberyn|High|The|Daario|Viserys|Drogo|Robert|toFixed|abs|100|Great|from|not|dead|submit|querySelectorAll|180deg|documentElement|main|window|header__dropdown|header__fixed|characters__list|loader__wrapper|anapioficeandfire|Prince|Princess|Queen|King|Characters|v2|thronesapi|All|filter__house|id|select|label|card__text|card__description|height|width|card__img|blur|card__body|card|list__card|li|Alive|unknown|alive|logo|2c2c2c|color|background|backdrop|setProperty|bottom|top|right|left|getBoundingClientRect|close|auto|showModal|hidden|modal__background|coatOfArms__text|house__logo|character__change|character__chance|character__died|character__born|character__house|character__name|character__image|modal__close|modal__contant|modal|matches|No|results||no|desc|Baelish|Mormont|Tully|Asha|Yara|Redwyne|Walder|Hodor|Giantsbane|Nymeros|Septon|Sparrow|Snow|Ramsay|Ramsey|Naharis|Targaryn|Khal|Clegane|Sandor|Hound|Jaime|Jamie|Robb|Rob|Eddard|Ned'.split('|'),0,{}))

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyIsImZpbHRlci5qcyIsImhlcm8tbW9kYWwuanMiLCJyZW5kZXIuanMiLCJyZXF1ZXN0cy5qcyIsInNjcmlwdC5qcyIsIndpbkNoYW5jZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENPTlNUQU5UUyA9IHtcbiAgY2hhcmFjdGVyOiB7XG4gICAgZnVsbE5hbWU6IHtcbiAgICAgICdSb2JlcnQgQmFyYXRoZW9uJzogJ1JvYmVydCBJIEJhcmF0aGVvbicsXG4gICAgICAnTmVkIFN0YXJrJzogJ0VkZGFyZCBTdGFyaycsXG4gICAgICAnUm9iIFN0YXJrJzogJ1JvYmIgU3RhcmsnLFxuICAgICAgJ0phbWllIExhbm5pc3Rlcic6ICdKYWltZSBMYW5uaXN0ZXInLFxuICAgICAgJ1RoZSBIb3VuZCc6ICdTYW5kb3IgQ2xlZ2FuZScsXG4gICAgICAnS2hhbCBEcm9nbyc6ICdEcm9nbycsXG4gICAgICAnVmlzZXJ5cyBUYXJnYXJ5bic6ICdWaXNlcnlzIFRhcmdhcnllbicsXG4gICAgICAnRGFhcmlvJzogJ0RhYXJpbyBOYWhhcmlzJyxcbiAgICAgICdSYW1zZXkgQm9sdG9uJzogJ1JhbXNheSBTbm93JyxcbiAgICAgICdUaGUgSGlnaCBTcGFycm93JzogJ0hpZ2ggU2VwdG9uJyxcbiAgICAgICdPYmVyeW4gTWFydGVsbCc6ICdPYmVyeW4gTnltZXJvcyBNYXJ0ZWxsJyxcbiAgICAgICdUb3JtdW5kIEdpYW50c2JhbmUnOiAnVG9ybXVuZCcsXG4gICAgICAnSG9kb3InOiAnV2FsZGVyJyxcbiAgICAgICdPbGVubmEgVHlyZWxsJzogJ09sZW5uYSBSZWR3eW5lJyxcbiAgICAgICdMb3JkIEJyb25uJzogJ0Jyb25uJyxcbiAgICAgICdZYXJhIEdyZXlqb3knOiAnQXNoYSBHcmV5am95JyxcbiAgICAgICdHZW5kcnkgQmFyYXRoZW9uJzogJ0dlbmRyeSdcbiAgICB9XG4gIH0sXG4gIGdyZWF0SG91c2VzOiBbXG4gICAgJ0hvdXNlIFN0YXJrJyxcbiAgICAnSG91c2UgVGFyZ2FyeWVuJyxcbiAgICAnSG91c2UgTGFubmlzdGVyJyxcbiAgICAnSG91c2UgVHlyZWxsJyxcbiAgICAnSG91c2UgQmFyYXRoZW9uJyxcbiAgICAnSG91c2UgR3JleWpveScsXG4gICAgJ0hvdXNlIFR1bGx5JyxcbiAgICAnSG91c2UgTW9ybW9udCcsXG4gICAgJ0hvdXNlIE1hcnRlbGwnLFxuICAgICdIb3VzZSBCb2x0b24nLFxuICAgICdIb3VzZSBCYWVsaXNoJ1xuICBdXG59OyIsIi8vPT09PT09PT09PT09PWNoYXJhY3RlciBmaWx0ZXI9PT09PT09PT09PT09PT09PT0vL1xubGV0IGFscGhhYmV0U29ydFZhbHVlID0gJ2FzYyc7XG5sZXQgbmFtZVNvcnRWYWx1ZSA9ICcnO1xubGV0IGhvdXNlU29ydFZhbHVlID0gJ2FsbCc7XG5cbmNvbnN0IGhhbmRsZUFscGhhYmV0RmlsdGVyID0gKGxpc3QsIHZhbHVlKSA9PiB7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlICdhc2MnOlxuICAgICAgbGlzdC5zb3J0KChhLCBiKSA9PlxuICAgICAgICAoYS5mdWxsTmFtZSA+IGIuZnVsbE5hbWUpID8gMSA6ICgoYi5mdWxsTmFtZSA+IGEuZnVsbE5hbWUpID8gLTEgOiAwKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkZXNjJzpcbiAgICAgIGxpc3Quc29ydCgoYSwgYikgPT5cbiAgICAgICAgKGEuZnVsbE5hbWUgPCBiLmZ1bGxOYW1lKSA/IDEgOiAoKGIuZnVsbE5hbWUgPCBhLmZ1bGxOYW1lKSA/IC0xIDogMCkpO1xuICB9XG4gIHJldHVybiBsaXN0O1xufTtcblxuY29uc3QgY2hhcmFjdGVyRmlsdGVyID0gKGxpc3QpID0+IHtcbiAgbGV0IGZpbHRlcmVkQ2hhcmFjdGVycztcbiAgaGFuZGxlQWxwaGFiZXRGaWx0ZXIobGlzdCwgYWxwaGFiZXRTb3J0VmFsdWUpO1xuICBpZiAoaG91c2VTb3J0VmFsdWUgIT09ICdhbGwnKSB7XG4gICAgZmlsdGVyZWRDaGFyYWN0ZXJzID0gbGlzdC5maWx0ZXIoKHsgZnVsbE5hbWUsIGhvdXNlIH0pID0+XG4gICAgICBob3VzZS5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBob3VzZVNvcnRWYWx1ZS50cmltKClcbiAgICAgICYmXG4gICAgICBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWVTb3J0VmFsdWUpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmaWx0ZXJlZENoYXJhY3RlcnMgPSBsaXN0LmZpbHRlcigoeyBmdWxsTmFtZSB9KSA9PlxuICAgICAgZnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lU29ydFZhbHVlKSk7XG4gIH1cblxuICBpZiAoIWZpbHRlcmVkQ2hhcmFjdGVycy5sZW5ndGgpIHtcbiAgICBjaGFyYWN0ZXJzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJuby1yZXN1bHRzXCI+Tm8gbWF0Y2hlczwvcD4nO1xuICB9IGVsc2Uge1xuICAgIHJlbmRlckNoYXJhY3RlcnMoZmlsdGVyZWRDaGFyYWN0ZXJzKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlRmlsdGVyID0gKHR5cGUsIHZhbHVlLCBsaXN0KSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2FscGhhYmV0aWMnOlxuICAgICAgYWxwaGFiZXRTb3J0VmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbmFtZSc6XG4gICAgICBuYW1lU29ydFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hvdXNlcyc6XG4gICAgICBob3VzZVNvcnRWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNoYXJhY3RlckZpbHRlcihsaXN0KTtcbn07XG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cbiIsImNvbnN0IG1vZGFsSGVybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YW50Jyk7XG5jb25zdCBtb2RhbENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZScpO1xuXG5jb25zdCBoZXJvSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19pbWFnZScpO1xuY29uc3QgaGVyb05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19uYW1lJyk7XG5jb25zdCBoZXJvSG91c2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19ob3VzZScpO1xuY29uc3QgaGVyb0Jvcm4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19ib3JuJyk7XG5jb25zdCBoZXJvRGllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2RpZWQnKTtcbmNvbnN0IGhlcm9DaGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19jaGFuY2UnKTtcblxuY29uc3QgY2hhbmdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlcl9fY2hhbmdlJyk7XG5cbmNvbnN0IGhvdXNlTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3VzZV9fbG9nbycpO1xuY29uc3QgaG91c2VXb3JkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2F0T2ZBcm1zX190ZXh0Jyk7XG5jb25zdCBtb2RhbEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmFja2dyb3VuZCcpO1xuY29uc3Qgcm9vdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKTtcblxuY29uc3Qgb3Blbk1vZGFsID0gKCkgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIG1vZGFsSGVyby5zaG93TW9kYWwoKTtcbiAgLy8gcm9vdEVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJvb3RFbC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXG59O1xuXG5jb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xuICBoZXJvSG91c2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0YWJsZScpO1xuICBoZXJvSG91c2UuZGlzYWJsZWQgPSB0cnVlO1xuICBoZXJvRGllZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXRhYmxlJyk7XG4gIGhlcm9EaWVkLmRpc2FibGVkID0gdHJ1ZTtcbiAgY2hhbmdlQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBtb2RhbEltZy5zcmMgPSAnJztcbiAgaG91c2VMb2dvLnNyYyA9ICcnO1xuICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gJyc7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHJvb3RFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgcm9vdEVsLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cbiAgbW9kYWxIZXJvLmNsb3NlKCk7XG59O1xuXG4vLyBIYW5kbGUgY2xpY2sgb3V0c2lkZSB0aGUgbW9kYWwgY29udGFpbmVyXG5jb25zdCBoYW5kbGVPdXRzaWRlQ2xpY2sgPSAoZSkgPT4ge1xuICBjb25zdCBkaWFsb2dEaW1lbnNpb25zID0gbW9kYWxXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGlmIChcbiAgICAoKGUuY2xpZW50WCAhPT0gMCAmJiBlLmNsaWVudFggPCBkaWFsb2dEaW1lbnNpb25zLmxlZnQpIHx8XG4gICAgICAoZS5jbGllbnRYICE9PSAwICYmIGUuY2xpZW50WCA+IGRpYWxvZ0RpbWVuc2lvbnMucmlnaHQpIHx8XG4gICAgICAoZS5jbGllbnRZICE9PSAwICYmIGUuY2xpZW50WSA8IGRpYWxvZ0RpbWVuc2lvbnMudG9wKSB8fFxuICAgICAgKGUuY2xpZW50WSAhPT0gMCAmJiBlLmNsaWVudFkgPiBkaWFsb2dEaW1lbnNpb25zLmJvdHRvbSkpICYmXG4gICAgKGUudGFyZ2V0ICE9PSBjaGFuZ2VCdG4pXG4gICkge1xuICAgIGNsb3NlTW9kYWwoKTtcbiAgfVxufTtcblxuY29uc3Qgc2V0SGVyb1Byb3BlcnRpZXMgPSAoaGVybywgY2hhbmNlKSA9PiB7XG4gIGNvbnN0IHsgaW1hZ2VVcmwsIGZ1bGxOYW1lLCBob3VzZSwgYm9ybiwgZGllZCB9ID0gaGVybztcblxuICBoZXJvSW1hZ2Uuc3JjID0gaW1hZ2VVcmwudHJpbSgpO1xuICBoZXJvSW1hZ2UuYWx0ID0gZnVsbE5hbWU7XG4gIGhlcm9OYW1lLmlubmVySFRNTCA9IGZ1bGxOYW1lO1xuICBoZXJvSG91c2UuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9JyR7aG91c2UubmFtZX0nIHNlbGVjdGVkPiR7aG91c2UubmFtZX08L29wdGlvbj5gO1xuICBoZXJvQm9ybi5pbm5lckhUTUwgPSBib3JuO1xuICBoZXJvRGllZC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nJHtkaWVkLnRvTG93ZXJDYXNlKCl9JyBzZWxlY3RlZD4ke2RpZWR9PC9vcHRpb24+YDtcbiAgaGVyb0NoYW5jZS5pbm5lckhUTUwgPSBjaGFuY2U7XG59O1xuXG5jb25zdCB1cGRhdGVNb2RhbEltZyA9IChoZXJvKSA9PiB7XG4gIGlmIChoZXJvLmhvdXNlLm5hbWUgIT09ICdVbmtub3duJykge1xuICAgIGNvbnN0IGZpbGVzID0gWydCYXJhdGhlb24nLCAnQm9sdG9uJywgJ0dyZXlqb3knLCAnTGFubmlzdGVyJywgJ1N0YXJrJywgJ1RhcmdhcnllbicsICdUeXJlbGwnXTtcbiAgICBsZXQgeyBuYW1lLCB3b3JkcyB9ID0gaGVyby5ob3VzZTtcblxuICAgIG5hbWUgPSBuYW1lLnNwbGl0KCdIb3VzZScpWzFdLnRyaW0oKTtcblxuICAgIGNvbnN0IGltYWdlQmFja2dyb3VuZCA9IGAuL2ltZy9ob3VzZVNWRy8ke25hbWV9LnN2Z2A7XG5cbiAgICBtb2RhbEhlcm8uc3R5bGUuc2V0UHJvcGVydHkoJzo6YmFja2Ryb3AnLCAnYmFja2dyb3VuZC1jb2xvcjogIzJjMmMyYycpO1xuICAgIG1vZGFsSW1nLnNyYyA9IGZpbGVzLmluY2x1ZGVzKG5hbWUpID8gaW1hZ2VCYWNrZ3JvdW5kIDogYC4vaW1nL2hvdXNlU1ZHL3Rocm9uZS5zdmdgO1xuICAgIGhvdXNlTG9nby5zcmMgPSBgLi9pbWcvaG91c2VMb2dvLyR7bmFtZX0ucG5nYDtcbiAgICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gd29yZHMgIT09ICdVbmtub3duJyA/IHdvcmRzIDogJ0dhbWUgT2YgVGhyb25lcyc7XG4gIH0gZWxzZSB7XG4gICAgbW9kYWxJbWcuc3JjID0gYC4vaW1nL2hvdXNlU1ZHL3Rocm9uZS5zdmdgO1xuICAgIGhvdXNlTG9nby5zcmMgPSBgLi9pbWcvbG9nby5wbmdgO1xuICAgIGhvdXNlV29yZHMudGV4dENvbnRlbnQgPSAnR2FtZSBPZiBUaHJvbmVzJztcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlQ2hhbmdlQnRuQ2xpY2sgPSAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGhlcm9Ib3VzZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2VkaXRhYmxlJyk7XG4gIGhlcm9Ib3VzZS5kaXNhYmxlZCA9IGZhbHNlO1xuICBoZXJvRGllZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2VkaXRhYmxlJyk7XG4gIGhlcm9EaWVkLmRpc2FibGVkID0gZmFsc2U7XG4gIGNoYW5nZUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxuY29uc3QgaGFuZGxlSG91c2VDaGFuZ2UgPSAoZSwgaGVybykgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGhlcm8uaG91c2UgPSBnbG9iYWxIb3VzZXNMaXN0LmZpbmQoKGVsKSA9PiBlbC5uYW1lID09PSBlLnRhcmdldC52YWx1ZSk7XG4gIGhlcm9DaGFuY2UudGV4dENvbnRlbnQgPSAnSWYgeW91IHdhcyBhbiBhdXRob3Igb2Ygb3JpZ2luYWwgYm9vaywgY2hhbmNlIHdpbGwgYmU6JztcblxuICBoZXJvQ2hhbmNlLmlubmVySFRNTCA9XG4gICAgJ0lmIHlvdSB3YXMgYW4gYXV0aG9yIG9mIG9yaWdpbmFsIGJvb2ssIGNoYW5jZSB3aWxsIGJlOiA8YnI+JyArXG4gICAgd2luQ2hhbmNlKGdsb2JhbENoYXJhY3Rlckxpc3QsIGhlcm8pO1xufTtcblxuY29uc3QgaGFuZGxlRGllZENoYW5nZSA9IChlLCBoZXJvKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgaGVyby5kaWVkID0gZS50YXJnZXQudmFsdWUgPT09ICdhbGl2ZScgfHwgZS50YXJnZXQudmFsdWUgPT09ICd1bmtub3duJyA/ICdVbmtub3duJyA6ICdEaWVkJztcbiAgaGVyb0NoYW5jZS5pbm5lckhUTUwgPVxuICAgICdJZiB5b3Ugd2FzIGFuIGF1dGhvciBvZiBvcmlnaW5hbCBib29rLCBjaGFuY2Ugd2lsbCBiZTogPGJyPicgK1xuICAgIHdpbkNoYW5jZShnbG9iYWxDaGFyYWN0ZXJMaXN0LCBoZXJvKTtcbn07XG5jb25zdCByZW5kZXJNb2RhbERhdGEgPSAoaGVybywgY2hhbmNlKSA9PiB7XG5cbiAgc2V0SGVyb1Byb3BlcnRpZXMoaGVybywgY2hhbmNlKTtcbiAgdXBkYXRlTW9kYWxJbWcoaGVybyk7XG5cbiAgZ2xvYmFsSG91c2VzTGlzdC5mb3JFYWNoKFxuICAgIChlKSA9PlxuICAgICAgKGhlcm9Ib3VzZS5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9JyR7ZS5uYW1lfSc+JHtlLm5hbWV9PC9vcHRpb24+YClcbiAgKTtcblxuICBbJ0FsaXZlJywgJ0RpZWQnXS5mb3JFYWNoKFxuICAgIChlKSA9PlxuICAgICAgKGhlcm9EaWVkLmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0nJHtlLnRvTG93ZXJDYXNlKCl9Jz4ke2V9PC9vcHRpb24+YClcbiAgKTtcblxuICBjaGFuZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDaGFuZ2VCdG5DbGljayk7XG4gIGhlcm9Ib3VzZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gaGFuZGxlSG91c2VDaGFuZ2UoZSwgaGVybykpO1xuICBoZXJvRGllZC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gaGFuZGxlRGllZENoYW5nZShlLCBoZXJvKSk7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKiBTZXR1cCBNb2RhbCBPbiBDbGljayAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmNvbnN0IGhhbmRsZU1vZGFsID0gKGhlcm8pID0+IHtcbiAgaWYgKGhlcm8pIHtcbiAgICBvcGVuTW9kYWwoKTtcblxuICAgIGNvbnN0IGNoYW5jZSA9IHdpbkNoYW5jZShnbG9iYWxDaGFyYWN0ZXJMaXN0LCBoZXJvKTtcbiAgICByZW5kZXJNb2RhbERhdGEoaGVybywgY2hhbmNlKTtcbiAgfVxufTtcblxubW9kYWxIZXJvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT3V0c2lkZUNsaWNrKTtcbm1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTsiLCJjb25zdCByZW5kZXJDaGFyYWN0ZXJzID0gKGxpc3QpID0+IHtcbiAgY2hhcmFjdGVyc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgbGlzdC5mb3JFYWNoKChoZXJvKSA9PiB7XG4gICAgY29uc3QgeyBmdWxsTmFtZSwgaW1hZ2VVcmwgfSA9IGhlcm87XG4gICAgY29uc3QgY2hhcmFjdGVyc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgY2hhcmFjdGVyc0l0ZW0uY2xhc3NMaXN0LmFkZCgnbGlzdF9fY2FyZCcsICdjYXJkJyk7XG4gICAgY2hhcmFjdGVyc0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoYW5kbGVNb2RhbChoZXJvKSk7XG4gICAgY2hhcmFjdGVyc0l0ZW0uaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nY2FyZF9fYm9keSBibHVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NhcmRfX2ltZyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz0naW1nJyBzcmM9JyR7aW1hZ2VVcmx9JyBhbHQ9JyR7ZnVsbE5hbWV9JyB3aWR0aD0nMTUwJyBoZWlnaHQ9JzE1MCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NhcmRfX2Rlc2NyaXB0aW9uJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0nY2FyZF9fdGV4dCc+JHtmdWxsTmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICBjaGFyYWN0ZXJzTGlzdC5hcHBlbmQoY2hhcmFjdGVyc0l0ZW0pO1xuICB9KTtcbn07XG5cbmNvbnN0IHJlbmRlckZhbWlsaWVzTGlzdCA9IChsaXN0KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG5cbiAgY29uc3QgZmFtaWx5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBmYW1pbHlMYWJlbC5mb3IgPSAnaG91c2VTb3J0JztcblxuICBjb25zdCBmYW1pbGllc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgZmFtaWxpZXNMaXN0LmlkID0gJ2hvdXNlU29ydCc7XG4gIGZhbWlsaWVzTGlzdC5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJfX2hvdXNlJyk7XG4gIGZhbWlsaWVzTGlzdC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nYWxsJyBzZWxlY3RlZD5BbGw8L29wdGlvbj5gO1xuXG4gIGxpc3QuZm9yRWFjaCgoeyBuYW1lIH0pID0+IGZhbWlsaWVzTGlzdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9JyR7bmFtZX0nPiR7bmFtZX08L29wdGlvbj5gKTtcbiAgZm9ybS5hcHBlbmQoZmFtaWxpZXNMaXN0KTtcblxuICBpbnB1dEJsb2NrLmFwcGVuZChmb3JtKTtcbn07IiwibGV0IGdsb2JhbENoYXJhY3Rlckxpc3Q7XG5sZXQgZ2xvYmFsSG91c2VzTGlzdDtcbmNvbnN0IGxvYWRlckJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2FkZXJCYXInKTtcblxuY29uc3QgZ2V0Q2hhcmFjdGVyc0xpc3QgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL3Rocm9uZXNhcGkuY29tL2FwaS92Mi9DaGFyYWN0ZXJzJyk7XG4gIGxvYWRlckJhci52YWx1ZSArPSBNYXRoLnJvdW5kKDEuODUpO1xuICByZXR1cm4gZGF0YTtcbn07XG5cbmNvbnN0IGdldEhvdXNlc0xpc3QgPSBhc3luYyAoYWxsZWdpYW5jZXMsIGxhc3ROYW1lKSA9PiB7XG4gIGxldCBob3VzZUluZm8gPSBbXTtcbiAgZm9yIChjb25zdCBob3VzZSBvZiBhbGxlZ2lhbmNlcykge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGhvdXNlKTtcbiAgICBob3VzZUluZm8ucHVzaCh7XG4gICAgICBuYW1lOiBkYXRhLm5hbWUuc3BsaXQoJ29mJylbMF0udHJpbSgpLFxuICAgICAgd29yZHM6IGRhdGEud29yZHMgPyBkYXRhLndvcmRzIDogJ1Vua25vd24nXG4gICAgfSk7XG4gIH1cbiAgaWYgKGhvdXNlSW5mby5sZW5ndGggPiAxKSB7XG4gICAgbGV0IHVuaXF1ZUhvdXNlID0gaG91c2VJbmZvLmZpbmQoKGUpID0+IGUubmFtZS5pbmNsdWRlcyhsYXN0TmFtZSkpO1xuICAgIGhvdXNlSW5mbyA9IFt1bmlxdWVIb3VzZSA/IHVuaXF1ZUhvdXNlIDogaG91c2VJbmZvWzBdXTtcbiAgfVxuICByZXR1cm4gaG91c2VJbmZvO1xufTtcblxuY29uc3Qgc2V0RGF0YUZyb21BUEkgPSBhc3luYyAoZGF0YSwgbGFzdE5hbWUpID0+IHtcbiAgZm9yIChsZXQgeyBhbGxlZ2lhbmNlcywgZ2VuZGVyLCBib3JuLCBkaWVkLCB0aXRsZXMsIHR2U2VyaWVzIH0gb2YgZGF0YSkge1xuICAgIGlmICh0dlNlcmllcyAmJiB0dlNlcmllcy5sZW5ndGggPiAwICYmIHR2U2VyaWVzWzBdICE9PSAnJykge1xuXG4gICAgICBsZXQgaG91c2VJbmZvID0gYXdhaXQgZ2V0SG91c2VzTGlzdChhbGxlZ2lhbmNlcywgbGFzdE5hbWUpO1xuXG4gICAgICBpZiAoYm9ybikge1xuICAgICAgICBib3JuID0gYm9ybi5zdWJzdHJpbmcoMCwgYm9ybi5pbmRleE9mKCdBQycpICsgMik7XG4gICAgICAgIGlmIChib3JuWzBdLm1hdGNoKC9eWzEtOV1bMC05XSokLykpIGJvcm4gPSAnSW4gJyArIGJvcm47XG4gICAgICB9XG4gICAgICBpZiAoZGllZCkge1xuICAgICAgICBkaWVkID0gZGllZC5zdWJzdHJpbmcoMCwgZGllZC5pbmRleE9mKCdBQycpICsgMik7XG4gICAgICAgIGlmIChkaWVkWzBdLm1hdGNoKC9eWzEtOV1bMC05XSokLykpIGRpZWQgPSAnSW4gJyArIGRpZWQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVzLmZpbmQoXG4gICAgICAgIChlKSA9PlxuICAgICAgICAgIGUuaW5jbHVkZXMoJ0tpbmcnKSB8fFxuICAgICAgICAgIGUuaW5jbHVkZXMoJ1F1ZWVuJykgfHxcbiAgICAgICAgICBlLmluY2x1ZGVzKCdQcmluY2VzcycpIHx8XG4gICAgICAgICAgZS5pbmNsdWRlcygnUHJpbmNlJykgfHxcbiAgICAgICAgICBlLmluY2x1ZGVzKCdTZXInKSB8fFxuICAgICAgICAgIGUuaW5jbHVkZXMoJ0xvcmQnKSB8fFxuICAgICAgICAgIGUuaW5jbHVkZXMoJ1NlcicpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaG91c2U6IGhvdXNlSW5mby5sZW5ndGggPiAwID8gaG91c2VJbmZvWzBdIDogeyBuYW1lOiAnVW5rbm93bicsIHdvcmRzOiAnVW5rbm93bicgfSxcbiAgICAgICAgZ2VuZGVyOiBnZW5kZXIgPyBnZW5kZXIgOiAnVW5rbm93bicsXG4gICAgICAgIGJvcm46IGJvcm4gPyBib3JuIDogJ1Vua25vd24nLFxuICAgICAgICBkaWVkOiBkaWVkID8gZGllZCA6ICdVbmtub3duJyxcbiAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJ1xuICAgICAgfTtcbiAgICB9XG4gIH1cbn07XG5cblxuY29uc3QgZ2V0QWRkaXRpb25hbEluZm8gPSBhc3luYyAobGlzdCkgPT4ge1xuICBsZXQgY2hhcmFjdGVyTGlzdCA9IFtdO1xuICBsZXQgaG91c2VMaXN0ID0gW107XG4gIGZvciAobGV0IGNoYXJhY3RlciBvZiBsaXN0KSB7XG4gICAgY29uc3QgbmFtZSA9IENPTlNUQU5UUy5jaGFyYWN0ZXIuZnVsbE5hbWVbY2hhcmFjdGVyLmZ1bGxOYW1lXTtcbiAgICBjaGFyYWN0ZXIuZnVsbE5hbWUgPSBuYW1lID8gbmFtZSA6IGNoYXJhY3Rlci5mdWxsTmFtZTtcbiAgICBjb25zdCB7IGxhc3ROYW1lLCBmdWxsTmFtZSB9ID0gY2hhcmFjdGVyO1xuXG4gICAgYXdhaXQgYXhpb3NcbiAgICAgIC5nZXQoJ2h0dHBzOi8vYW5hcGlvZmljZWFuZGZpcmUuY29tL2FwaS9jaGFyYWN0ZXJzP25hbWU9JyArIGZ1bGxOYW1lKVxuICAgICAgLnRoZW4oYXN5bmMgKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgY29uc3QgYWRkb24gPSBhd2FpdCBzZXREYXRhRnJvbUFQSShkYXRhLCBsYXN0TmFtZSk7XG4gICAgICAgICAgaWYgKGFkZG9uKSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJMaXN0LnB1c2goeyAuLi5jaGFyYWN0ZXIsIC4uLmFkZG9uIH0pO1xuICAgICAgICAgICAgaG91c2VMaXN0LnB1c2goYWRkb24uaG91c2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGFkZG9uID0ge1xuICAgICAgICAgICAgaG91c2U6IHsgbmFtZTogJ1Vua25vd24nLCB3b3JkczogJ1Vua25vd24nIH0sXG4gICAgICAgICAgICBnZW5kZXI6ICdVbmtub3duJyxcbiAgICAgICAgICAgIGJvcm46ICdVbmtub3duJyxcbiAgICAgICAgICAgIGRpZWQ6ICdVbmtub3duJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjaGFyYWN0ZXJMaXN0LnB1c2goeyAuLi5jaGFyYWN0ZXIsIC4uLmFkZG9uIH0pO1xuICAgICAgICAgIGhvdXNlTGlzdC5wdXNoKGFkZG9uLmhvdXNlKTtcbiAgICAgICAgfVxuICAgICAgICBsb2FkZXJCYXIudmFsdWUgKz0gTWF0aC5yb3VuZCgxLjg1KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhcmFjdGVyTGlzdCA9IGNoYXJhY3Rlckxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gY2hhcmFjdGVyTGlzdC5maW5kSW5kZXgoKG8pID0+IG9iai5mdWxsTmFtZSA9PT0gby5mdWxsTmFtZSlcbiAgKTtcbiAgY2hhcmFjdGVyTGlzdCA9IGhhbmRsZUFscGhhYmV0RmlsdGVyKGNoYXJhY3Rlckxpc3QsICdhc2MnKTtcblxuICBob3VzZUxpc3QgPSBob3VzZUxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gaG91c2VMaXN0LmZpbmRJbmRleCgobykgPT4gb2JqLm5hbWUgPT09IG8ubmFtZSlcbiAgKTtcblxuICBob3VzZUxpc3Quc29ydCgoYSwgYikgPT4gKGEubmFtZSA+IGIubmFtZSA/IDEgOiBiLm5hbWUgPiBhLm5hbWUgPyAtMSA6IDApKTtcblxuICBjaGFyYWN0ZXJMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICBpZiAoZS5ob3VzZS5uYW1lID09PSAnVW5rbm93bicpIHtcbiAgICAgIGNvbnN0IGZpbmRIb3VzZSA9IGhvdXNlTGlzdC5maW5kKChlbCkgPT4gZS5sYXN0TmFtZSAhPT0gJycgJiYgZWwubmFtZS5pbmNsdWRlcyhlLmxhc3ROYW1lKSk7XG4gICAgICBlLmhvdXNlID0gZmluZEhvdXNlID8gZmluZEhvdXNlIDogZS5ob3VzZTtcbiAgICB9XG4gIH0pO1xuICBnbG9iYWxDaGFyYWN0ZXJMaXN0ID0gY2hhcmFjdGVyTGlzdDtcbiAgZ2xvYmFsSG91c2VzTGlzdCA9IGhvdXNlTGlzdDtcbiAgcmV0dXJuIHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH07XG59O1xuXG5jb25zdCBnZXRGdWxsSW5mbyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgY2hhcmFjdGVycyA9IGF3YWl0IGdldENoYXJhY3RlcnNMaXN0KCk7XG4gIHJldHVybiBhd2FpdCBnZXRBZGRpdGlvbmFsSW5mbyhjaGFyYWN0ZXJzKTtcbn07XG4iLCJjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKTtcbnJvb3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlcl9fd3JhcHBlcicpO1xuY29uc3QgY2hhcmFjdGVyc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyc19fbGlzdCcpO1xuY29uc3QgaW5wdXRCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfX2Jsb2NrJyk7XG5cbmNvbnN0IGhlYWRlckZpeGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZml4ZWQnKTtcblxuY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19kcm9wZG93bicpO1xuY29uc3QgZmlsdGVyQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX19ibG9jaycpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICBsZXQgbWFpbk5ldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA+IDUwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiA1MCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuY2xpZW50SGVpZ2h0IDwgNTYwKSB7XG4gICAgICBtYWluTmV3LmNsYXNzTGlzdC5hZGQoJ21haW5OZXcnKTtcbiAgICB9XG4gICAgaGVhZGVyRml4ZWQuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsJyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5jbGllbnRIZWlnaHQgPiA1NjApIHtcbiAgICAgIG1haW5OZXcuY2xhc3NMaXN0LnJlbW92ZSgnbWFpbk5ldycpO1xuICAgIH1cbiAgICBoZWFkZXJGaXhlZC5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwnKTtcbiAgfVxufSk7XG5cbmxldCBpc09wZW4gPSBmYWxzZTtcbmRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBpc09wZW4gPyBmaWx0ZXJCbG9jay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSA6IGZpbHRlckJsb2NrLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICBpc09wZW4gPyAoZHJvcGRvd24uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwKScpIDogKGRyb3Bkb3duLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKScpO1xuICBpc09wZW4gPSAhaXNPcGVuO1xufSk7XG5cbmdldEZ1bGxJbmZvKCkudGhlbigoeyBjaGFyYWN0ZXJMaXN0LCBob3VzZUxpc3QgfSkgPT4ge1xuICByZW5kZXJDaGFyYWN0ZXJzKGNoYXJhY3Rlckxpc3QpO1xuICByZW5kZXJGYW1pbGllc0xpc3QoaG91c2VMaXN0KTtcbiAgcm9vdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgbG9hZGVyLnJlbW92ZSgpO1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKkZJTFRFUioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGNvbnN0IG5hbWVGaW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0Jyk7XG4gIGNvbnN0IGhvdXNlU29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob3VzZVNvcnQnKTtcbiAgY29uc3QgYWxwaGFiZXRTb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FscGhhYmV0U29ydCcpO1xuICBjb25zdCBjbGVhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NsZWFySW5wdXQnKTtcbiAgYWxwaGFiZXRTb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICh7IHRhcmdldCB9KSA9PlxuICAgIGhhbmRsZUZpbHRlcignYWxwaGFiZXRpYycsIHRhcmdldC52YWx1ZSwgY2hhcmFjdGVyTGlzdClcbiAgKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJykuZm9yRWFjaChlID0+XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKSk7XG5cbiAgbmFtZUZpbmQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGFuZGxlRmlsdGVyKCduYW1lJywgZS50YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpO1xuICAgIH1cbiAgKTtcblxuICBob3VzZVNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKHsgdGFyZ2V0IH0pID0+XG4gICAgaGFuZGxlRmlsdGVyKCdob3VzZXMnLCB0YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpXG4gICk7XG5cbiAgY2xlYXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBuYW1lRmluZC52YWx1ZSA9ICcnO1xuICAgIGhhbmRsZUZpbHRlcignbmFtZScsICcnLCBjaGFyYWN0ZXJMaXN0KTtcbiAgfSk7XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG59KTtcbiIsImNvbnN0IHdpbkNoYW5jZSA9IChsaXN0LCBoZXJvKSA9PiB7XG4gIGxldCB3aW5uZXI7XG4gIGNvbnN0IGdyZWF0SG91c2VzID0gQ09OU1RBTlRTLmdyZWF0SG91c2VzO1xuICBsaXN0ID0gbGlzdC5maWx0ZXIoKHsgaG91c2UsIGRpZWQgfSkgPT4gZ3JlYXRIb3VzZXMuaW5jbHVkZXMoaG91c2UubmFtZSkgJiYgZGllZCA9PT0gJ1Vua25vd24nKTtcblxuICBpZiAoIWxpc3QuaW5jbHVkZXMoaGVybykpIHtcbiAgICBpZiAoaGVyby5kaWVkICE9PSAnVW5rbm93bicpIHdpbm5lciA9ICgnU29ycnksIHlvdXIgY2hhcmFjdGVyIGlzIGRlYWQnKTtcbiAgICBpZiAoIWdyZWF0SG91c2VzLmluY2x1ZGVzKGhlcm8uaG91c2UubmFtZSkpIHdpbm5lciA9ICgnU29ycnksIHlvdXIgY2hhcmFjdGVyIGlzIG5vdCBmcm9tIEdyZWF0IEhvdXNlJyk7XG4gIH0gZWxzZSB7XG4gICAgbGlzdCA9IGxpc3QuZmlsdGVyKCh7IHRpdGxlIH0pID0+IHRpdGxlICE9PSAnJyk7XG4gICAgbGlzdC5zb3J0KChhLCBiKSA9PiAoYS5ib3JuIDwgYi5ib3JuKSA/IDEgOiAoKGIuYm9ybiA8IGEuYm9ybikgPyAtMSA6IDApKTtcblxuICAgIGNvbnN0IGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICAgIGxpc3QgPSBsaXN0LmZpbmRJbmRleCgoeyBmdWxsTmFtZSB9KSA9PiBmdWxsTmFtZSA9PT0gaGVyby5mdWxsTmFtZSk7XG5cbiAgICB3aW5uZXIgPSAoKCgoMSAvIGxlbmd0aCkgKiAxMDApICsgTWF0aC5hYnMobGlzdCkpLnRvRml4ZWQoMikgKyAnJScpO1xuICB9XG4gIHJldHVybiB3aW5uZXI7XG59OyJdfQ==
