eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('k 2u=\'25\';k 1M=\'\';k 1L=\'2e\';3 26=(9,d)=>{3z(d){1i\'25\':9.1k((a,b)=>(a.4>b.4)?1:((b.4>a.4)?-1:0));1K;1i\'5e\':9.1k((a,b)=>(a.4<b.4)?1:((b.4<a.4)?-1:0))}Z 9};3 3x=(9)=>{k C=26(9,2u);7(1L!==\'2e\'){C=9.F(({4,g})=>g.5.w().V()===1L.V()&&4.w().j(1M))}G{C=9.F(({4})=>4.w().j(1M))}7(C.x===0){S.l=\'<p L="3e-3d">3c 3b</p>\'}G{2f(C)}};3 11=(3y,d,9)=>{3z(3y){1i\'2z\':2u=d.w();1K;1i\'5\':1M=d.w();1K;1i\'2y\':1L=d.w();1K}3x(9)};3 1g=6.8(\'.5d\');3 3v=6.8(\'.5c\');3 3u=6.8(\'.5b\');3 2s=6.8(\'.5a\');3 3t=6.8(\'.59\');3 E=6.8(\'.58\');3 3s=6.8(\'.57\');3 D=6.8(\'.56\');3 1d=6.8(\'.55\');3 1E=6.8(\'.54\');3 1f=6.8(\'.53\');3 1C=6.8(\'.52\');3 1D=6.8(\'.51\');3 3h=()=>1g.4Z();3 2t=()=>{E.1H.s.14(\'1G\');E.1F=3w;D.1H.s.14(\'1G\');D.1F=3w;1E.R.21=\'4Y\';1D.B=\'\';1f.B=\'\';1C.1B=\'\';1g.4X()};1g.n(\'Q\',(e)=>{3 1h=3v.4W();7((e.1J!==0&&e.1J<1h.4V)||(e.1J!==0&&e.1J>1h.4U)||(e.1I!==0&&e.1I<1h.4T)||(e.1I!==0&&e.1I>1h.4S)){2t()}});3u.n(\'Q\',2t);3 3g=(f,N)=>{3{1A,4,g,u,r}=f;2s.B=1A.V();2s.39=4;3t.l=4;E.l=`<t d=\'${g.5}\'2d>${g.5}</t>`;3s.l=u;D.l=`<t d=\'${r.w()}\'2d>${r}</t>`;1d.l=N;1E.n(\'Q\',()=>{E.1H.s.J(\'1G\');E.1F=1Y;D.1H.s.J(\'1G\');D.1F=1Y;1E.R.21=\'2K\'});7(f.g.5!==\'i\'){3 3r=[\'10\',\'1P\',\'1m\',\'1n\',\'P\',\'1S\',\'1R\'];k{5,z}=f.g;5=5.2Q(\'m\')[1].V();3 3q=`./1e/M/2r/${5}.2q`;1g.R.4R(\'::4Q\',\'4P-4O: #4N\');1D.B=3r.j(5)?3q:`./1e/M/2r/3p.2q`;1f.B=`./1e/M/1f/${5}.3o`;1C.1B=z!==\'i\'?z:\'3n 3m 3l\'}G{1D.B=`../1e/M/2r/3p.2q`;1f.B=`./1e/M/4M.3o`;1C.1B=\'3n 3m 3l\'}1q.18((e)=>(E.l+=`<t d=\'${e.5}\'>${e.5}</t>`));[\'4L\',\'3j\'].18((e)=>(D.l+=`<t d=\'${e.w()}\'>${e}</t>`));E.n(\'1o\',(e)=>{e.3k();f.g=1q.1t((1s)=>1s.5===e.y.d);1d.1B=\'2p 2o 2n 2m 2l K 2k 2j, N 2i 2h:\';1d.l=\'2p 2o 2n 2m 2l K 2k 2j, N 2i 2h: <3i>\'+1l(17,f)});D.n(\'1o\',(e)=>{e.3k();f.r=e.y.d===\'4K\'||e.y.d===\'4J\'?\'i\':\'3j\';1d.l=\'2p 2o 2n 2m 2l K 2k 2j, N 2i 2h: <3i>\'+1l(17,f)})};3 37=(f)=>{7(f){3h();3 N=1l(17,f);3g(f,N)}};3 H=6.8(\'.H\');3 3a=16()=>{4I{3{h}=T 1W();3 3f=H.d.w().V();3 C=h.F((c)=>c.4.w().j(3f));7(C.x===0){S.l=\'<p L="3e-3d">3c 3b</p>\'}G{S.l=\'\';2f(C)}}4H(2g){4G.2g(\'Помилка при отриманні даних:\',2g)}};H.n(\'H\',3a);3 2f=(9)=>{S.l=\'\';9.18((f)=>{3{4,1A}=f;3 1c=6.1z(\'4F\');1c.s.J(\'4E\',\'4D\');1c.l+=`<X L=\'4C 4B\'><X L=\'4A\'><M L=\'M\'B=\'${1A}\'39=\'${4}\'4z=\'38\'4y=\'38\'></X><X L=\'4x\'><p L=\'4w\'>${4}</p></X></X>`;1c.n(\'Q\',()=>37(f));S.2c(1c)})};3 4v=(9)=>{3 1y=6.1z(\'1y\');3 36=6.1z(\'4u\');36.1w=\'12\';3 W=6.1z(\'4t\');W.4s=\'12\';W.s.J(\'4r\');W.l=`<t d=\'2e\'2d>4q</t>`;9.18(({5})=>W.l+=`<t d=\'${5}\'>${5}</t>`);1y.2c(W);2J.2c(1y)};k 17;k 1q;3 1a=6.8(\'#1a\');3 2M=16()=>{3{v}=T 2b.2a(\'2U://4p.2T/2S/4o/4n\');1a.d+=1j.28(1.27);Z v};3 2L=16(9)=>{k h=[];k q=[];1w(k c K 9){k{4,1r}=c;7(4===\'35 10\')c.4=\'35 I 10\';7(4===\'4m P\')c.4=\'4l P\';7(4===\'4k P\')4=\'4j P\';7(4===\'4i 1n\')c.4=\'4h 1n\';7(4===\'31 4g\')c.4=\'4f 4e\';7(4===\'4d 34\')c.4=\'34\';7(4===\'33 4c\')c.4=\'33 1S\';7(4===\'32\')c.4=\'32 4b\';7(4===\'4a 1P\')c.4=\'49 48\';7(4===\'31 30 47\')c.4=\'30 46\';7(4===\'2Z 1Q\')c.4=\'2Z 45 1Q\';7(4===\'2Y 44\')c.4=\'2Y\';7(4===\'43\')c.4=\'42\';7(4===\'2X 1R\')c.4=\'2X 41\';7(4===\'2O 2W\')c.4=\'2W\';7(4===\'40 1m\')c.4=\'3Z 1m\';7(4===\'2V 10\')c.4=\'2V\';4=c.4;T 2b.2a(\'2U://3Y.2T/2S/23?5=\'+4).2A(16({v})=>{7(v&&v.x>0){1w(3{2R,1b,u,r,2P,1x}K v){7(1x&&1x.x>0&&1x[0]!==\'\'){k A=[];1w(3 g K 2R){3{v}=T 2b.2a(g);A.19({5:v.5.2Q(\'K\')[0].V(),z:v.z?v.z:\'i\'})}7(A.x>1){k 29=A.1t((e)=>e.5.j(1r));A=[29?29:A[0]]}3 O=2P.1t((e)=>e.j(\'3X\')||e.j(\'3W\')||e.j(\'3V\')||e.j(\'3U\')||e.j(\'2N\')||e.j(\'2O\')||e.j(\'2N\'));3 U={g:A.x>0?A[0]:{5:\'i\',z:\'i\'},1b:1b?1b:\'i\',u:u?u:\'i\',r:r?r:\'i\',O:O?O:\'\'};h.19({...c,...U});q.19(U.g)}1a.d+=1j.28(1.27)}}G{3 U={g:{5:\'i\',z:\'i\'},1b:\'i\',u:\'i\',r:\'i\'};1a.d+=1j.28(1.27);h.19({...c,...U});q.19(U.g)}})}h=h.F((1u,1v)=>1v===h.1N((o)=>1u.4===o.4));h=26(h,\'25\');q=q.F((1u,1v)=>1v===q.1N((o)=>1u.5===o.5));q.1k((a,b)=>(a.5>b.5?1:b.5>a.5?-1:0));h.18((e)=>{7(e.g.5===\'i\'){3 24=q.1t((1s)=>e.1r!==\'\'&&1s.5.j(e.1r));e.g=24?24:e.g}});17=h;1q=q;Z{h,q}};3 1W=16()=>{3 23=T 2M();3{h,q}=T 2L(23);Z{h,q}};3 22=6.8(\'#22\');22.R.21=\'2K\';3 3T=6.8(\'.3S\');3 S=6.8(\'.3R\');3 2J=6.8(\'.2I\');3 20=6.8(\'.3Q\');3 1p=6.8(\'.3P\');3 1X=6.8(\'.2I\');3O.n(\'1Z\',()=>{k 15=6.8(\'.3N\');7(6.3M.2H>50||6.3L.2H>50){7(6.8(\'.2G\').2F<2E){15.s.J(\'15\')}20.s.J(\'1Z\')}G{7(6.8(\'.2G\').2F>2E){15.s.14(\'15\')}20.s.14(\'1Z\')}});k 13=1Y;1p.n(\'Q\',()=>{13?1X.s.14(\'2D\'):1X.s.J(\'2D\');13?(1p.R.2C=\'2B(0)\'):(1p.R.2C=\'2B(3K)\');13=!13});1W().2A(({h,q})=>{3 1T=6.8(\'.H\');3 12=6.8(\'#12\');3 1V=6.8(\'#1V\');3 1U=6.8(\'#1U\');1V.n(\'1o\',({y})=>11(\'2z\',y.d,h));1T.n(\'H\',({y})=>11(\'5\',y.d,h));12.n(\'1o\',({y})=>11(\'2y\',y.d,h));1U.n(\'Q\',()=>{1T.d=\'\';11(\'5\',\'\',h)})});3 1O=[\'m P\',\'m 1S\',\'m 1n\',\'m 1R\',\'m 10\',\'m 1m\',\'m 3J\',\'m 3I\',\'m 1Q\',\'m 1P\',\'m 3H\'];3 1l=(9,f)=>{k Y;9=9.F(({g,r})=>1O.j(g.5)&&r===\'i\');7(!9.j(f)){7(f.r!==\'i\')Y=(\'2x, 2w c 2v 3G\');7(!1O.j(f.g.5))Y=(\'2x, 2w c 2v 3F 3E 3D m\')}G{9=9.F(({O})=>O!==\'\');9.1k((a,b)=>(a.u<b.u)?1:((b.u<a.u)?-1:0));3 x=9.x;9=9.1N(({4})=>4===f.4);Y=((((1/x)*3C)+1j.3B(9)).3A(2)+\'%\')}Z Y};',62,325,'|||const|fullName|name|document|if|querySelector|list|||character|value||hero|house|characterList|Unknown|includes|let|innerHTML|House|addEventListener|||houseList|died|classList|option|born|data|toLowerCase|length|target|words|houseInfo|src|filteredCharacters|heroDied|heroHouse|filter|else|input||add|of|class|img|chance|title|Stark|click|style|charactersList|await|addon|trim|familiesList|div|winner|return|Baratheon|handleFilter|houseSort|isOpen|remove|mainNew|async|globalCharacterList|forEach|push|loaderBar|gender|charactersItem|heroChance|dist|houseLogo|modalHero|dialogDimensions|case|Math|sort|winChance|Greyjoy|Lannister|change|dropdown|globalHousesList|lastName|el|find|obj|index|for|tvSeries|form|createElement|imageUrl|textContent|houseWords|modalImg|changeBtn|disabled|editable|parentElement|clientY|clientX|break|houseSortValue|nameSortValue|findIndex|greatHouses|Bolton|Martell|Tyrell|Targaryen|nameFind|clearInput|alphabetSort|getFullInfo|filterBlock|false|scroll|headerFixed|display|root|characters|findHouse|asc|handleAlphabetFilter|85|round|uniqueHouse|get|axios|append|selected|all|renderCharacters|error|be|will|book|original|author|an|was|you|If|svg|houseSVG|heroImage|closeModal|alphabetSortValue|is|your|Sorry|houses|alphabetic|then|rotate|transform|active|560|clientHeight|container|scrollTop|filter__block|inputBlock|none|getAdditionalInfo|getCharactersList|Ser|Lord|titles|split|allegiances|api|com|https|Gendry|Bronn|Olenna|Tormund|Oberyn|High|The|Daario|Viserys|Drogo|Robert|familyLabel|handleModal|150|alt|handleNameFilter|matches|No|results|no|filterValue|renderModalData|openModal|br|Died|preventDefault|Thrones|Of|Game|png|throne|imageBackground|files|heroBorn|heroName|modalClose|modalWrapper|true|characterFilter|type|switch|toFixed|abs|100|Great|from|not|dead|Baelish|Mormont|Tully|180deg|documentElement|body|main|window|header__dropdown|header__fixed|characters__list|loader__wrapper|loader|Prince|Princess|Queen|King|anapioficeandfire|Asha|Yara|Redwyne|Walder|Hodor|Giantsbane|Nymeros|Septon|Sparrow|Snow|Ramsay|Ramsey|Naharis|Targaryn|Khal|Clegane|Sandor|Hound|Jaime|Jamie|Robb|Rob|Eddard|Ned|Characters|v2|thronesapi|All|filter__house|id|select|label|renderFamiliesList|card__text|card__description|height|width|card__img|blur|card__body|card|list__card|li|console|catch|try|unknown|alive|Alive|logo|2c2c2c|color|background|backdrop|setProperty|bottom|top|right|left|getBoundingClientRect|close|block|showModal||modal__background|coatOfArms__text|house__logo|character__change|character__chance|character__died|character__born|character__house|character__name|character__image|modal__close|modal__contant|modal|desc'.split('|'),0,{}))

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlci5qcyIsImhlcm8tbW9kYWwuanMiLCJpbnB1dC5qcyIsInJlbmRlci5qcyIsInJlcXVlc3RzLmpzIiwic2NyaXB0LmpzIiwid2luQ2hhbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PWNoYXJhY3RlciBmaWx0ZXI9PT09PT09PT09PT09PT09PT0vL1xubGV0IGFscGhhYmV0U29ydFZhbHVlID0gJ2FzYyc7XG5sZXQgbmFtZVNvcnRWYWx1ZSA9ICcnO1xubGV0IGhvdXNlU29ydFZhbHVlID0gJ2FsbCc7XG5cbmNvbnN0IGhhbmRsZUFscGhhYmV0RmlsdGVyID0gKGxpc3QsIHZhbHVlKSA9PiB7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlICdhc2MnOlxuICAgICAgbGlzdC5zb3J0KChhLCBiKSA9PlxuICAgICAgICAoYS5mdWxsTmFtZSA+IGIuZnVsbE5hbWUpID8gMSA6ICgoYi5mdWxsTmFtZSA+IGEuZnVsbE5hbWUpID8gLTEgOiAwKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkZXNjJzpcbiAgICAgIGxpc3Quc29ydCgoYSwgYikgPT5cbiAgICAgICAgKGEuZnVsbE5hbWUgPCBiLmZ1bGxOYW1lKSA/IDEgOiAoKGIuZnVsbE5hbWUgPCBhLmZ1bGxOYW1lKSA/IC0xIDogMCkpO1xuICB9XG4gIHJldHVybiBsaXN0O1xufTtcblxuY29uc3QgY2hhcmFjdGVyRmlsdGVyID0gKGxpc3QpID0+IHtcbiAgbGV0IGZpbHRlcmVkQ2hhcmFjdGVycyA9IGhhbmRsZUFscGhhYmV0RmlsdGVyKGxpc3QsIGFscGhhYmV0U29ydFZhbHVlKTtcblxuICBpZiAoaG91c2VTb3J0VmFsdWUgIT09ICdhbGwnKSB7XG4gICAgZmlsdGVyZWRDaGFyYWN0ZXJzID0gbGlzdC5maWx0ZXIoKHsgZnVsbE5hbWUsIGhvdXNlIH0pID0+XG4gICAgICBob3VzZS5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBob3VzZVNvcnRWYWx1ZS50cmltKClcbiAgICAgICYmXG4gICAgICBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWVTb3J0VmFsdWUpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmaWx0ZXJlZENoYXJhY3RlcnMgPSBsaXN0LmZpbHRlcigoeyBmdWxsTmFtZSB9KSA9PlxuICAgICAgZnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lU29ydFZhbHVlKSk7XG4gIH1cblxuICBpZiAoZmlsdGVyZWRDaGFyYWN0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNoYXJhY3RlcnNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cIm5vLXJlc3VsdHNcIj5ObyBtYXRjaGVzPC9wPic7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyQ2hhcmFjdGVycyhmaWx0ZXJlZENoYXJhY3RlcnMpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVGaWx0ZXIgPSAodHlwZSwgdmFsdWUsIGxpc3QpID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYWxwaGFiZXRpYyc6XG4gICAgICBhbHBoYWJldFNvcnRWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICduYW1lJzpcbiAgICAgIG5hbWVTb3J0VmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaG91c2VzJzpcbiAgICAgIGhvdXNlU29ydFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY2hhcmFjdGVyRmlsdGVyKGxpc3QpO1xufTtcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuIiwiY29uc3QgbW9kYWxIZXJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5jb25zdCBtb2RhbFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhbnQnKTtcbmNvbnN0IG1vZGFsQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlJyk7XG5cbmNvbnN0IGhlcm9JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2ltYWdlJyk7XG5jb25zdCBoZXJvTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX25hbWUnKTtcbmNvbnN0IGhlcm9Ib3VzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2hvdXNlJyk7XG5jb25zdCBoZXJvQm9ybiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2Jvcm4nKTtcbmNvbnN0IGhlcm9EaWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlcl9fZGllZCcpO1xuY29uc3QgaGVyb0NoYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2NoYW5jZScpO1xuXG5jb25zdCBjaGFuZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19jaGFuZ2UnKTtcblxuY29uc3QgaG91c2VMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvdXNlX19sb2dvJyk7XG5jb25zdCBob3VzZVdvcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvYXRPZkFybXNfX3RleHQnKTtcbmNvbnN0IG1vZGFsSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19iYWNrZ3JvdW5kJyk7XG5cbmNvbnN0IG9wZW5Nb2RhbCA9ICgpID0+IG1vZGFsSGVyby5zaG93TW9kYWwoKTtcbmNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gIGhlcm9Ib3VzZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXRhYmxlJyk7XG4gIGhlcm9Ib3VzZS5kaXNhYmxlZCA9IHRydWU7XG4gIGhlcm9EaWVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZWRpdGFibGUnKTtcbiAgaGVyb0RpZWQuZGlzYWJsZWQgPSB0cnVlO1xuICBjaGFuZ2VCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIG1vZGFsSW1nLnNyYyA9ICcnO1xuICBob3VzZUxvZ28uc3JjID0gJyc7XG4gIGhvdXNlV29yZHMudGV4dENvbnRlbnQgPSAnJztcbiAgbW9kYWxIZXJvLmNsb3NlKCk7XG59O1xuXG5tb2RhbEhlcm8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjb25zdCBkaWFsb2dEaW1lbnNpb25zID0gbW9kYWxXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBpZiAoXG4gICAgKGUuY2xpZW50WCAhPT0gMCAmJiBlLmNsaWVudFggPCBkaWFsb2dEaW1lbnNpb25zLmxlZnQpIHx8XG4gICAgKGUuY2xpZW50WCAhPT0gMCAmJiBlLmNsaWVudFggPiBkaWFsb2dEaW1lbnNpb25zLnJpZ2h0KSB8fFxuICAgIChlLmNsaWVudFkgIT09IDAgJiYgZS5jbGllbnRZIDwgZGlhbG9nRGltZW5zaW9ucy50b3ApIHx8XG4gICAgKGUuY2xpZW50WSAhPT0gMCAmJiBlLmNsaWVudFkgPiBkaWFsb2dEaW1lbnNpb25zLmJvdHRvbSlcbiAgKSB7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9XG59KTtcblxubW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWwpO1xuXG5jb25zdCByZW5kZXJNb2RhbERhdGEgPSAoaGVybywgY2hhbmNlKSA9PiB7XG4gIGNvbnN0IHsgaW1hZ2VVcmwsIGZ1bGxOYW1lLCBob3VzZSwgYm9ybiwgZGllZCB9ID0gaGVybztcblxuICBoZXJvSW1hZ2Uuc3JjID0gaW1hZ2VVcmwudHJpbSgpO1xuICBoZXJvSW1hZ2UuYWx0ID0gZnVsbE5hbWU7XG5cbiAgaGVyb05hbWUuaW5uZXJIVE1MID0gZnVsbE5hbWU7XG5cbiAgaGVyb0hvdXNlLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScke2hvdXNlLm5hbWV9JyBzZWxlY3RlZD4ke2hvdXNlLm5hbWV9PC9vcHRpb24+YDtcblxuICBoZXJvQm9ybi5pbm5lckhUTUwgPSBib3JuO1xuXG4gIGhlcm9EaWVkLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScke2RpZWQudG9Mb3dlckNhc2UoKX0nIHNlbGVjdGVkPiR7ZGllZH08L29wdGlvbj5gO1xuXG4gIGhlcm9DaGFuY2UuaW5uZXJIVE1MID0gY2hhbmNlO1xuXG4gIGNoYW5nZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBoZXJvSG91c2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlZGl0YWJsZScpO1xuICAgIGhlcm9Ib3VzZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGhlcm9EaWVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUnKTtcbiAgICBoZXJvRGllZC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNoYW5nZUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcblxuICBpZiAoaGVyby5ob3VzZS5uYW1lICE9PSAnVW5rbm93bicpIHtcbiAgICBjb25zdCBmaWxlcyA9IFsnQmFyYXRoZW9uJywgJ0JvbHRvbicsICdHcmV5am95JywgJ0xhbm5pc3RlcicsICdTdGFyaycsICdUYXJnYXJ5ZW4nLCAnVHlyZWxsJ107XG4gICAgbGV0IHsgbmFtZSwgd29yZHMgfSA9IGhlcm8uaG91c2U7XG4gICAgbmFtZSA9IG5hbWUuc3BsaXQoJ0hvdXNlJylbMV0udHJpbSgpO1xuXG4gICAgY29uc3QgaW1hZ2VCYWNrZ3JvdW5kID0gYC4vZGlzdC9pbWcvaG91c2VTVkcvJHtuYW1lfS5zdmdgO1xuICAgIG1vZGFsSGVyby5zdHlsZS5zZXRQcm9wZXJ0eSgnOjpiYWNrZHJvcCcsICdiYWNrZ3JvdW5kLWNvbG9yOiAjMmMyYzJjJyk7XG4gICAgbW9kYWxJbWcuc3JjID0gZmlsZXMuaW5jbHVkZXMobmFtZSkgPyBpbWFnZUJhY2tncm91bmQgOiBgLi9kaXN0L2ltZy9ob3VzZVNWRy90aHJvbmUuc3ZnYDtcbiAgICBob3VzZUxvZ28uc3JjID0gYC4vZGlzdC9pbWcvaG91c2VMb2dvLyR7bmFtZX0ucG5nYDtcbiAgICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gd29yZHMgIT09ICdVbmtub3duJyA/IHdvcmRzIDogJ0dhbWUgT2YgVGhyb25lcyc7XG4gIH0gZWxzZSB7XG4gICAgbW9kYWxJbWcuc3JjID0gYC4uL2Rpc3QvaW1nL2hvdXNlU1ZHL3Rocm9uZS5zdmdgO1xuICAgIGhvdXNlTG9nby5zcmMgPSBgLi9kaXN0L2ltZy9sb2dvLnBuZ2A7XG4gICAgaG91c2VXb3Jkcy50ZXh0Q29udGVudCA9ICdHYW1lIE9mIFRocm9uZXMnO1xuICB9XG5cbiAgZ2xvYmFsSG91c2VzTGlzdC5mb3JFYWNoKFxuICAgIChlKSA9PiAoaGVyb0hvdXNlLmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0nJHtlLm5hbWV9Jz4ke2UubmFtZX08L29wdGlvbj5gKVxuICApO1xuXG4gIFsnQWxpdmUnLCAnRGllZCddLmZvckVhY2goXG4gICAgKGUpID0+IChoZXJvRGllZC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9JyR7ZS50b0xvd2VyQ2FzZSgpfSc+JHtlfTwvb3B0aW9uPmApXG4gICk7XG5cbiAgaGVyb0hvdXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGhlcm8uaG91c2UgPSBnbG9iYWxIb3VzZXNMaXN0LmZpbmQoKGVsKSA9PiBlbC5uYW1lID09PSBlLnRhcmdldC52YWx1ZSk7XG4gICAgaGVyb0NoYW5jZS50ZXh0Q29udGVudCA9ICdJZiB5b3Ugd2FzIGFuIGF1dGhvciBvZiBvcmlnaW5hbCBib29rLCBjaGFuY2Ugd2lsbCBiZTonO1xuXG4gICAgaGVyb0NoYW5jZS5pbm5lckhUTUwgPVxuICAgICAgJ0lmIHlvdSB3YXMgYW4gYXV0aG9yIG9mIG9yaWdpbmFsIGJvb2ssIGNoYW5jZSB3aWxsIGJlOiA8YnI+JyArXG4gICAgICB3aW5DaGFuY2UoZ2xvYmFsQ2hhcmFjdGVyTGlzdCwgaGVybyk7XG4gIH0pO1xuXG4gIGhlcm9EaWVkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGhlcm8uZGllZCA9IGUudGFyZ2V0LnZhbHVlID09PSAnYWxpdmUnIHx8IGUudGFyZ2V0LnZhbHVlID09PSAndW5rbm93bicgPyAnVW5rbm93bicgOiAnRGllZCc7XG4gICAgaGVyb0NoYW5jZS5pbm5lckhUTUwgPVxuICAgICAgJ0lmIHlvdSB3YXMgYW4gYXV0aG9yIG9mIG9yaWdpbmFsIGJvb2ssIGNoYW5jZSB3aWxsIGJlOiA8YnI+JyArXG4gICAgICB3aW5DaGFuY2UoZ2xvYmFsQ2hhcmFjdGVyTGlzdCwgaGVybyk7XG4gIH0pO1xufTtcblxuLyoqKioqKioqKioqKioqKioqKiogU2V0dXAgTW9kYWwgT24gQ2xpY2sqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmNvbnN0IGhhbmRsZU1vZGFsID0gKGhlcm8pID0+IHtcbiAgaWYgKGhlcm8pIHtcbiAgICBvcGVuTW9kYWwoKTtcblxuICAgIGNvbnN0IGNoYW5jZSA9IHdpbkNoYW5jZShnbG9iYWxDaGFyYWN0ZXJMaXN0LCBoZXJvKTtcbiAgICByZW5kZXJNb2RhbERhdGEoaGVybywgY2hhbmNlKTtcbiAgfVxufTtcbiIsIi8vPT09PT09PT09PT09PWNoYXJhY3RlciBmaWx0ZXI9PT09PT09PT09PT09PT09PT0vL1xuY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKTtcbi8vXG5jb25zdCBoYW5kbGVOYW1lRmlsdGVyID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY2hhcmFjdGVyTGlzdCB9ID0gYXdhaXQgZ2V0RnVsbEluZm8oKTtcbiAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGlucHV0LnZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXG4gICAgY29uc3QgZmlsdGVyZWRDaGFyYWN0ZXJzID0gY2hhcmFjdGVyTGlzdC5maWx0ZXIoKGNoYXJhY3RlcikgPT5cbiAgICAgIGNoYXJhY3Rlci5mdWxsTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlclZhbHVlKVxuICAgICk7XG5cbiAgICBpZiAoZmlsdGVyZWRDaGFyYWN0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2hhcmFjdGVyc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwibm8tcmVzdWx0c1wiPk5vIG1hdGNoZXM8L3A+JztcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhcmFjdGVyc0xpc3QuaW5uZXJIVE1MID0gJyc7IC8vINCe0YfQuNGJ0YPRlNC80L4g0L/QvtC/0LXRgNC10LTQvdGWINGA0LXQt9GD0LvRjNGC0LDRgtC4XG4gICAgICByZW5kZXJDaGFyYWN0ZXJzKGZpbHRlcmVkQ2hhcmFjdGVycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ9Cf0L7QvNC40LvQutCwINC/0YDQuCDQvtGC0YDQuNC80LDQvdC90ZYg0LTQsNC90LjRhTonLCBlcnJvcik7XG4gIH1cbn07XG5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGhhbmRsZU5hbWVGaWx0ZXIpO1xuIiwiY29uc3QgcmVuZGVyQ2hhcmFjdGVycyA9IChsaXN0KSA9PiB7XG4gIGNoYXJhY3RlcnNMaXN0LmlubmVySFRNTCA9ICcnO1xuICBsaXN0LmZvckVhY2goKGhlcm8pID0+IHtcbiAgICBjb25zdCB7IGZ1bGxOYW1lLCBpbWFnZVVybCB9ID0gaGVybztcbiAgICBjb25zdCBjaGFyYWN0ZXJzSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgY2hhcmFjdGVyc0l0ZW0uY2xhc3NMaXN0LmFkZCgnbGlzdF9fY2FyZCcsICdjYXJkJyk7XG4gICAgY2hhcmFjdGVyc0l0ZW0uaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nY2FyZF9fYm9keSBibHVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NhcmRfX2ltZyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz0naW1nJyBzcmM9JyR7aW1hZ2VVcmx9JyBhbHQ9JyR7ZnVsbE5hbWV9JyB3aWR0aD0nMTUwJyBoZWlnaHQ9JzE1MCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NhcmRfX2Rlc2NyaXB0aW9uJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0nY2FyZF9fdGV4dCc+JHtmdWxsTmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgY2hhcmFjdGVyc0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoYW5kbGVNb2RhbChoZXJvKSk7XG4gICAgY2hhcmFjdGVyc0xpc3QuYXBwZW5kKGNoYXJhY3RlcnNJdGVtKTtcbiAgfSk7XG59O1xuY29uc3QgcmVuZGVyRmFtaWxpZXNMaXN0ID0gKGxpc3QpID0+IHtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgY29uc3QgZmFtaWx5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBmYW1pbHlMYWJlbC5mb3IgPSAnaG91c2VTb3J0JztcbiAgY29uc3QgZmFtaWxpZXNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gIGZhbWlsaWVzTGlzdC5pZCA9ICdob3VzZVNvcnQnO1xuICBmYW1pbGllc0xpc3QuY2xhc3NMaXN0LmFkZCgnZmlsdGVyX19ob3VzZScpO1xuICBmYW1pbGllc0xpc3QuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9J2FsbCcgc2VsZWN0ZWQ+QWxsPC9vcHRpb24+YDtcbiAgbGlzdC5mb3JFYWNoKCh7IG5hbWUgfSkgPT4gZmFtaWxpZXNMaXN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0nJHtuYW1lfSc+JHtuYW1lfTwvb3B0aW9uPmApO1xuICBmb3JtLmFwcGVuZChmYW1pbGllc0xpc3QpO1xuICBpbnB1dEJsb2NrLmFwcGVuZChmb3JtKTtcbn07IiwibGV0IGdsb2JhbENoYXJhY3Rlckxpc3Q7XG5sZXQgZ2xvYmFsSG91c2VzTGlzdDtcbmNvbnN0IGxvYWRlckJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2FkZXJCYXInKTtcbmNvbnN0IGdldENoYXJhY3RlcnNMaXN0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly90aHJvbmVzYXBpLmNvbS9hcGkvdjIvQ2hhcmFjdGVycycpO1xuICBsb2FkZXJCYXIudmFsdWUgKz0gTWF0aC5yb3VuZCgxLjg1KTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuY29uc3QgZ2V0QWRkaXRpb25hbEluZm8gPSBhc3luYyAobGlzdCkgPT4ge1xuICBsZXQgY2hhcmFjdGVyTGlzdCA9IFtdO1xuICBsZXQgaG91c2VMaXN0ID0gW107XG4gIGZvciAobGV0IGNoYXJhY3RlciBvZiBsaXN0KSB7XG4gICAgbGV0IHsgZnVsbE5hbWUsIGxhc3ROYW1lIH0gPSBjaGFyYWN0ZXI7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnUm9iZXJ0IEJhcmF0aGVvbicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdSb2JlcnQgSSBCYXJhdGhlb24nO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ05lZCBTdGFyaycpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdFZGRhcmQgU3RhcmsnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1JvYiBTdGFyaycpIGZ1bGxOYW1lID0gJ1JvYmIgU3RhcmsnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0phbWllIExhbm5pc3RlcicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdKYWltZSBMYW5uaXN0ZXInO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1RoZSBIb3VuZCcpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdTYW5kb3IgQ2xlZ2FuZSc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnS2hhbCBEcm9nbycpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdEcm9nbyc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnVmlzZXJ5cyBUYXJnYXJ5bicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdWaXNlcnlzIFRhcmdhcnllbic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnRGFhcmlvJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0RhYXJpbyBOYWhhcmlzJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdSYW1zZXkgQm9sdG9uJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1JhbXNheSBTbm93JztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdUaGUgSGlnaCBTcGFycm93JykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0hpZ2ggU2VwdG9uJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdPYmVyeW4gTWFydGVsbCcpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdPYmVyeW4gTnltZXJvcyBNYXJ0ZWxsJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdUb3JtdW5kIEdpYW50c2JhbmUnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnVG9ybXVuZCc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnSG9kb3InKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnV2FsZGVyJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdPbGVubmEgVHlyZWxsJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ09sZW5uYSBSZWR3eW5lJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdMb3JkIEJyb25uJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0Jyb25uJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdZYXJhIEdyZXlqb3knKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnQXNoYSBHcmV5am95JztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdHZW5kcnkgQmFyYXRoZW9uJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0dlbmRyeSc7XG4gICAgZnVsbE5hbWUgPSBjaGFyYWN0ZXIuZnVsbE5hbWU7XG4gICAgYXdhaXQgYXhpb3NcbiAgICAgIC5nZXQoJ2h0dHBzOi8vYW5hcGlvZmljZWFuZGZpcmUuY29tL2FwaS9jaGFyYWN0ZXJzP25hbWU9JyArIGZ1bGxOYW1lKVxuICAgICAgLnRoZW4oYXN5bmMgKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgeyBhbGxlZ2lhbmNlcywgZ2VuZGVyLCBib3JuLCBkaWVkLCB0aXRsZXMsIHR2U2VyaWVzIH0gb2YgZGF0YSkge1xuICAgICAgICAgICAgaWYgKHR2U2VyaWVzICYmIHR2U2VyaWVzLmxlbmd0aCA+IDAgJiYgdHZTZXJpZXNbMF0gIT09ICcnKSB7XG4gICAgICAgICAgICAgIGxldCBob3VzZUluZm8gPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBob3VzZSBvZiBhbGxlZ2lhbmNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGhvdXNlKTtcbiAgICAgICAgICAgICAgICBob3VzZUluZm8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUuc3BsaXQoJ29mJylbMF0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgd29yZHM6IGRhdGEud29yZHMgPyBkYXRhLndvcmRzIDogJ1Vua25vd24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoaG91c2VJbmZvLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgdW5pcXVlSG91c2UgPSBob3VzZUluZm8uZmluZCgoZSkgPT4gZS5uYW1lLmluY2x1ZGVzKGxhc3ROYW1lKSk7XG4gICAgICAgICAgICAgICAgaG91c2VJbmZvID0gW3VuaXF1ZUhvdXNlID8gdW5pcXVlSG91c2UgOiBob3VzZUluZm9bMF1dO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGUpID0+XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdLaW5nJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ1F1ZWVuJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ1ByaW5jZXNzJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ1ByaW5jZScpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdTZXInKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnTG9yZCcpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdTZXInKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGNvbnN0IGFkZG9uID0ge1xuICAgICAgICAgICAgICAgIGhvdXNlOiBob3VzZUluZm8ubGVuZ3RoID4gMCA/IGhvdXNlSW5mb1swXSA6IHsgbmFtZTogJ1Vua25vd24nLCB3b3JkczogJ1Vua25vd24nIH0sXG4gICAgICAgICAgICAgICAgZ2VuZGVyOiBnZW5kZXIgPyBnZW5kZXIgOiAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgYm9ybjogYm9ybiA/IGJvcm4gOiAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgZGllZDogZGllZCA/IGRpZWQgOiAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBjaGFyYWN0ZXJMaXN0LnB1c2goeyAuLi5jaGFyYWN0ZXIsIC4uLmFkZG9uIH0pO1xuICAgICAgICAgICAgICBob3VzZUxpc3QucHVzaChhZGRvbi5ob3VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2FkZXJCYXIudmFsdWUgKz0gTWF0aC5yb3VuZCgxLjg1KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYWRkb24gPSB7XG4gICAgICAgICAgICBob3VzZTogeyBuYW1lOiAnVW5rbm93bicsIHdvcmRzOiAnVW5rbm93bicgfSxcbiAgICAgICAgICAgIGdlbmRlcjogJ1Vua25vd24nLFxuICAgICAgICAgICAgYm9ybjogJ1Vua25vd24nLFxuICAgICAgICAgICAgZGllZDogJ1Vua25vd24nXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGxvYWRlckJhci52YWx1ZSArPSBNYXRoLnJvdW5kKDEuODUpO1xuICAgICAgICAgIGNoYXJhY3Rlckxpc3QucHVzaCh7IC4uLmNoYXJhY3RlciwgLi4uYWRkb24gfSk7XG4gICAgICAgICAgaG91c2VMaXN0LnB1c2goYWRkb24uaG91c2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGNoYXJhY3Rlckxpc3QgPSBjaGFyYWN0ZXJMaXN0LmZpbHRlcihcbiAgICAob2JqLCBpbmRleCkgPT4gaW5kZXggPT09IGNoYXJhY3Rlckxpc3QuZmluZEluZGV4KChvKSA9PiBvYmouZnVsbE5hbWUgPT09IG8uZnVsbE5hbWUpXG4gICk7XG4gIGNoYXJhY3Rlckxpc3QgPSBoYW5kbGVBbHBoYWJldEZpbHRlcihjaGFyYWN0ZXJMaXN0LCAnYXNjJyk7XG5cbiAgaG91c2VMaXN0ID0gaG91c2VMaXN0LmZpbHRlcihcbiAgICAob2JqLCBpbmRleCkgPT4gaW5kZXggPT09IGhvdXNlTGlzdC5maW5kSW5kZXgoKG8pID0+IG9iai5uYW1lID09PSBvLm5hbWUpXG4gICk7XG5cbiAgaG91c2VMaXN0LnNvcnQoKGEsIGIpID0+IChhLm5hbWUgPiBiLm5hbWUgPyAxIDogYi5uYW1lID4gYS5uYW1lID8gLTEgOiAwKSk7XG5cbiAgY2hhcmFjdGVyTGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgaWYgKGUuaG91c2UubmFtZSA9PT0gJ1Vua25vd24nKSB7XG4gICAgICBjb25zdCBmaW5kSG91c2UgPSBob3VzZUxpc3QuZmluZCgoZWwpID0+IGUubGFzdE5hbWUgIT09ICcnICYmIGVsLm5hbWUuaW5jbHVkZXMoZS5sYXN0TmFtZSkpO1xuICAgICAgZS5ob3VzZSA9IGZpbmRIb3VzZSA/IGZpbmRIb3VzZSA6IGUuaG91c2U7XG4gICAgfVxuICB9KTtcbiAgZ2xvYmFsQ2hhcmFjdGVyTGlzdCA9IGNoYXJhY3Rlckxpc3Q7XG4gIGdsb2JhbEhvdXNlc0xpc3QgPSBob3VzZUxpc3Q7XG4gIHJldHVybiB7IGNoYXJhY3Rlckxpc3QsIGhvdXNlTGlzdCB9O1xufTtcblxuY29uc3QgZ2V0RnVsbEluZm8gPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPSBhd2FpdCBnZXRDaGFyYWN0ZXJzTGlzdCgpO1xuICBjb25zdCB7IGNoYXJhY3Rlckxpc3QsIGhvdXNlTGlzdCB9ID0gYXdhaXQgZ2V0QWRkaXRpb25hbEluZm8oY2hhcmFjdGVycyk7XG4gIHJldHVybiB7IGNoYXJhY3Rlckxpc3QsIGhvdXNlTGlzdCB9O1xufTtcbiIsImNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcm9vdCcpO1xucm9vdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5jb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyX193cmFwcGVyJyk7XG5jb25zdCBjaGFyYWN0ZXJzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJzX19saXN0Jyk7XG5jb25zdCBpbnB1dEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl9fYmxvY2snKTtcblxuY29uc3QgaGVhZGVyRml4ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19maXhlZCcpO1xuXG5jb25zdCBkcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Ryb3Bkb3duJyk7XG5jb25zdCBmaWx0ZXJCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfX2Jsb2NrJyk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gIGxldCBtYWluTmV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4nKTtcbiAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID4gNTAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA+IDUwKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5jbGllbnRIZWlnaHQgPCA1NjApIHtcbiAgICAgIG1haW5OZXcuY2xhc3NMaXN0LmFkZCgnbWFpbk5ldycpO1xuICAgIH1cbiAgICBoZWFkZXJGaXhlZC5jbGFzc0xpc3QuYWRkKCdzY3JvbGwnKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmNsaWVudEhlaWdodCA+IDU2MCkge1xuICAgICAgbWFpbk5ldy5jbGFzc0xpc3QucmVtb3ZlKCdtYWluTmV3Jyk7XG4gICAgfVxuICAgIGhlYWRlckZpeGVkLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbCcpO1xuICB9XG59KTtcblxubGV0IGlzT3BlbiA9IGZhbHNlO1xuZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGlzT3BlbiA/IGZpbHRlckJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpIDogZmlsdGVyQmxvY2suY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIGlzT3BlbiA/IChkcm9wZG93bi5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDApJykgOiAoZHJvcGRvd24uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgxODBkZWcpJyk7XG4gIGlzT3BlbiA9ICFpc09wZW47XG59KTtcblxuZ2V0RnVsbEluZm8oKS50aGVuKCh7IGNoYXJhY3Rlckxpc3QsIGhvdXNlTGlzdCB9KSA9PiB7XG4gIC8vIHJlbmRlckNoYXJhY3RlcnMoY2hhcmFjdGVyTGlzdCk7XG4gIC8vIHJlbmRlckZhbWlsaWVzTGlzdChob3VzZUxpc3QpO1xuICAvLyByb290LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAvLyBsb2FkZXIucmVtb3ZlKCk7XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqRklMVEVSKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgY29uc3QgbmFtZUZpbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKTtcbiAgY29uc3QgaG91c2VTb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hvdXNlU29ydCcpO1xuICBjb25zdCBhbHBoYWJldFNvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxwaGFiZXRTb3J0Jyk7XG4gIGNvbnN0IGNsZWFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xlYXJJbnB1dCcpO1xuICBhbHBoYWJldFNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKHsgdGFyZ2V0IH0pID0+XG4gICAgaGFuZGxlRmlsdGVyKCdhbHBoYWJldGljJywgdGFyZ2V0LnZhbHVlLCBjaGFyYWN0ZXJMaXN0KVxuICApO1xuXG4gIG5hbWVGaW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKHsgdGFyZ2V0IH0pID0+XG4gICAgaGFuZGxlRmlsdGVyKCduYW1lJywgdGFyZ2V0LnZhbHVlLCBjaGFyYWN0ZXJMaXN0KVxuICApO1xuXG4gIGhvdXNlU29ydC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoeyB0YXJnZXQgfSkgPT5cbiAgICBoYW5kbGVGaWx0ZXIoJ2hvdXNlcycsIHRhcmdldC52YWx1ZSwgY2hhcmFjdGVyTGlzdClcbiAgKTtcblxuICBjbGVhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG5hbWVGaW5kLnZhbHVlID0gJyc7XG4gICAgaGFuZGxlRmlsdGVyKCduYW1lJywgJycsIGNoYXJhY3Rlckxpc3QpO1xuICB9KTtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbn0pO1xuIiwiY29uc3QgZ3JlYXRIb3VzZXMgPSBbXG4gICdIb3VzZSBTdGFyaycsXG4gICdIb3VzZSBUYXJnYXJ5ZW4nLFxuICAnSG91c2UgTGFubmlzdGVyJyxcbiAgJ0hvdXNlIFR5cmVsbCcsXG4gICdIb3VzZSBCYXJhdGhlb24nLFxuICAnSG91c2UgR3JleWpveScsXG4gICdIb3VzZSBUdWxseScsXG4gICdIb3VzZSBNb3Jtb250JyxcbiAgJ0hvdXNlIE1hcnRlbGwnLFxuICAnSG91c2UgQm9sdG9uJyxcbiAgJ0hvdXNlIEJhZWxpc2gnXG5dO1xuY29uc3Qgd2luQ2hhbmNlID0gKGxpc3QsIGhlcm8pID0+IHtcbiAgbGV0IHdpbm5lcjtcblxuICBsaXN0ID0gbGlzdC5maWx0ZXIoKHsgaG91c2UsIGRpZWQgfSkgPT4gZ3JlYXRIb3VzZXMuaW5jbHVkZXMoaG91c2UubmFtZSkgJiYgZGllZCA9PT0gJ1Vua25vd24nKTtcblxuICBpZiAoIWxpc3QuaW5jbHVkZXMoaGVybykpIHtcbiAgICBpZiAoaGVyby5kaWVkICE9PSAnVW5rbm93bicpIHdpbm5lciA9ICgnU29ycnksIHlvdXIgY2hhcmFjdGVyIGlzIGRlYWQnKTtcbiAgICBpZiAoIWdyZWF0SG91c2VzLmluY2x1ZGVzKGhlcm8uaG91c2UubmFtZSkpIHdpbm5lciA9ICgnU29ycnksIHlvdXIgY2hhcmFjdGVyIGlzIG5vdCBmcm9tIEdyZWF0IEhvdXNlJyk7XG4gIH0gZWxzZSB7XG4gICAgbGlzdCA9IGxpc3QuZmlsdGVyKCh7IHRpdGxlIH0pID0+IHRpdGxlICE9PSAnJyk7XG4gICAgbGlzdC5zb3J0KChhLCBiKSA9PiAoYS5ib3JuIDwgYi5ib3JuKSA/IDEgOiAoKGIuYm9ybiA8IGEuYm9ybikgPyAtMSA6IDApKTtcblxuICAgIGNvbnN0IGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICAgIGxpc3QgPSBsaXN0LmZpbmRJbmRleCgoeyBmdWxsTmFtZSB9KSA9PiBmdWxsTmFtZSA9PT0gaGVyby5mdWxsTmFtZSk7XG5cbiAgICB3aW5uZXIgPSAoKCgoMSAvIGxlbmd0aCkgKiAxMDApICsgTWF0aC5hYnMobGlzdCkpLnRvRml4ZWQoMikgKyAnJScpO1xuICB9XG4gIHJldHVybiB3aW5uZXI7XG59OyJdfQ==
