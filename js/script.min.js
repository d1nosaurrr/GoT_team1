eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('k 2t=\'25\';k 1O=\'\';k 1N=\'2e\';3 26=(9,d)=>{3B(d){1h\'25\':9.1j((a,b)=>(a.4>b.4)?1:((b.4>a.4)?-1:0));1M;1h\'5d\':9.1j((a,b)=>(a.4<b.4)?1:((b.4<a.4)?-1:0))}10 9};3 3z=(9)=>{k C=26(9,2t);7(1N!==\'2e\'){C=9.F(({4,h})=>h.5.w().W()===1N.W()&&4.w().j(1O))}G{C=9.F(({4})=>4.w().j(1O))}7(C.x===0){T.l=\'<p M="3g-3f">3e 3d</p>\'}G{1q(C)}};3 12=(3A,d,9)=>{3B(3A){1h\'2y\':2t=d.w();1M;1h\'5\':1O=d.w();1M;1h\'2x\':1N=d.w();1M}3z(9)};3 1f=6.8(\'.5c\');3 3x=6.8(\'.5b\');3 3w=6.8(\'.5a\');3 2r=6.8(\'.59\');3 3v=6.8(\'.58\');3 E=6.8(\'.57\');3 3u=6.8(\'.56\');3 D=6.8(\'.55\');3 1d=6.8(\'.54\');3 1G=6.8(\'.53\');3 1e=6.8(\'.52\');3 1E=6.8(\'.51\');3 1F=6.8(\'.4Z\');3 3j=()=>1f.4Y();3 2s=()=>{E.1J.s.S(\'1I\');E.1H=3y;D.1J.s.S(\'1I\');D.1H=3y;1G.J.1o=\'2A\';1F.B=\'\';1e.B=\'\';1E.1D=\'\';1f.4X()};1f.q(\'R\',(e)=>{3 1g=3x.4W();7((e.1L!==0&&e.1L<1g.4V)||(e.1L!==0&&e.1L>1g.4U)||(e.1K!==0&&e.1K<1g.4T)||(e.1K!==0&&e.1K>1g.4S)){2s()}});3w.q(\'R\',2s);3 3i=(g,O)=>{3{1C,4,h,u,r}=g;2r.B=1C.W();2r.3b=4;3v.l=4;E.l=`<t d=\'${h.5}\'2d>${h.5}</t>`;3u.l=u;D.l=`<t d=\'${r.w()}\'2d>${r}</t>`;1d.l=O;1G.q(\'R\',()=>{E.1J.s.K(\'1I\');E.1H=20;D.1J.s.K(\'1I\');D.1H=20;1G.J.1o=\'2M\'});7(g.h.5!==\'i\'){3 3t=[\'11\',\'1R\',\'1l\',\'1m\',\'Q\',\'1U\',\'1T\'];k{5,z}=g.h;5=5.2S(\'n\')[1].W();3 3s=`./N/2q/${5}.2p`;1f.J.4R(\'::4Q\',\'4P-4O: #4N\');1F.B=3t.j(5)?3s:`./N/2q/3r.2p`;1e.B=`./N/1e/${5}.3q`;1E.1D=z!==\'i\'?z:\'3p 3o 3n\'}G{1F.B=`../N/2q/3r.2p`;1e.B=`./N/4M.3q`;1E.1D=\'3p 3o 3n\'}1s.18((e)=>(E.l+=`<t d=\'${e.5}\'>${e.5}</t>`));[\'4L\',\'3l\'].18((e)=>(D.l+=`<t d=\'${e.w()}\'>${e}</t>`));E.q(\'1n\',(e)=>{e.3m();g.h=1s.1v((1u)=>1u.5===e.y.d);1d.1D=\'2o 2n 2m 2l 2k L 2j 2i, O 2h 2g:\';1d.l=\'2o 2n 2m 2l 2k L 2j 2i, O 2h 2g: <3k>\'+1k(17,g)});D.q(\'1n\',(e)=>{e.3m();g.r=e.y.d===\'4K\'||e.y.d===\'4J\'?\'i\':\'3l\';1d.l=\'2o 2n 2m 2l 2k L 2j 2i, O 2h 2g: <3k>\'+1k(17,g)})};3 39=(g)=>{7(g){3j();3 O=1k(17,g);3i(g,O)}};3 H=6.8(\'.H\');3 3c=16()=>{4I{3{f}=U 1Y();3 3h=H.d.w().W();3 C=f.F((c)=>c.4.w().j(3h));7(C.x===0){T.l=\'<p M="3g-3f">3e 3d</p>\'}G{T.l=\'\';1q(C)}}4H(2f){4G.2f(\'Помилка при отриманні даних:\',2f)}};H.q(\'H\',3c);3 1q=(9)=>{T.l=\'\';9.18((g)=>{3{4,1C}=g;3 1c=6.1B(\'4F\');1c.s.K(\'4E\',\'4D\');1c.l+=`<Y M=\'4C 4B\'><Y M=\'4A\'><N M=\'N\'B=\'${1C}\'3b=\'${4}\'4z=\'3a\'4y=\'3a\'></Y><Y M=\'4x\'><p M=\'4w\'>${4}</p></Y></Y>`;1c.q(\'R\',()=>39(g));T.2c(1c)})};3 2B=(9)=>{3 1A=6.1B(\'1A\');3 38=6.1B(\'4v\');38.1y=\'13\';3 X=6.1B(\'4u\');X.4t=\'13\';X.s.K(\'4s\');X.l=`<t d=\'2e\'2d>4r</t>`;9.18(({5})=>X.l+=`<t d=\'${5}\'>${5}</t>`);1A.2c(X);2L.2c(1A)};k 17;k 1s;3 1a=6.8(\'#1a\');3 2O=16()=>{3{v}=U 2b.2a(\'2W://4q.2V/2U/4p/4o\');1a.d+=1i.28(1.27);10 v};3 2N=16(9)=>{k f=[];k m=[];1y(k c L 9){k{4,1t}=c;7(4===\'37 11\')c.4=\'37 I 11\';7(4===\'4n Q\')c.4=\'4m Q\';7(4===\'4l Q\')4=\'4k Q\';7(4===\'4j 1m\')c.4=\'4i 1m\';7(4===\'33 4h\')c.4=\'4g 4f\';7(4===\'4e 36\')c.4=\'36\';7(4===\'35 4d\')c.4=\'35 1U\';7(4===\'34\')c.4=\'34 4c\';7(4===\'4b 1R\')c.4=\'4a 49\';7(4===\'33 32 48\')c.4=\'32 47\';7(4===\'31 1S\')c.4=\'31 46 1S\';7(4===\'30 45\')c.4=\'30\';7(4===\'44\')c.4=\'43\';7(4===\'2Z 1T\')c.4=\'2Z 42\';7(4===\'2Q 2Y\')c.4=\'2Y\';7(4===\'41 1l\')c.4=\'40 1l\';7(4===\'2X 11\')c.4=\'2X\';4=c.4;U 2b.2a(\'2W://3Z.2V/2U/23?5=\'+4).2C(16({v})=>{7(v&&v.x>0){1y(3{2T,1b,u,r,2R,1z}L v){7(1z&&1z.x>0&&1z[0]!==\'\'){k A=[];1y(3 h L 2T){3{v}=U 2b.2a(h);A.19({5:v.5.2S(\'L\')[0].W(),z:v.z?v.z:\'i\'})}7(A.x>1){k 29=A.1v((e)=>e.5.j(1t));A=[29?29:A[0]]}3 P=2R.1v((e)=>e.j(\'3Y\')||e.j(\'3X\')||e.j(\'3W\')||e.j(\'3V\')||e.j(\'2P\')||e.j(\'2Q\')||e.j(\'2P\'));3 V={h:A.x>0?A[0]:{5:\'i\',z:\'i\'},1b:1b?1b:\'i\',u:u?u:\'i\',r:r?r:\'i\',P:P?P:\'\'};f.19({...c,...V});m.19(V.h)}1a.d+=1i.28(1.27)}}G{3 V={h:{5:\'i\',z:\'i\'},1b:\'i\',u:\'i\',r:\'i\'};1a.d+=1i.28(1.27);f.19({...c,...V});m.19(V.h)}})}f=f.F((1w,1x)=>1x===f.1P((o)=>1w.4===o.4));f=26(f,\'25\');m=m.F((1w,1x)=>1x===m.1P((o)=>1w.5===o.5));m.1j((a,b)=>(a.5>b.5?1:b.5>a.5?-1:0));f.18((e)=>{7(e.h.5===\'i\'){3 24=m.1v((1u)=>e.1t!==\'\'&&1u.5.j(e.1t));e.h=24?24:e.h}});17=f;1s=m;10{f,m}};3 1Y=16()=>{3 23=U 2O();3{f,m}=U 2N(23);10{f,m}};3 1p=6.8(\'#1p\');1p.J.1o=\'2M\';3 2z=6.8(\'.3U\');3 T=6.8(\'.3T\');3 2L=6.8(\'.2K\');3 22=6.8(\'.3S\');3 1r=6.8(\'.3R\');3 1Z=6.8(\'.2K\');3Q.q(\'21\',()=>{k 15=6.8(\'.3P\');7(6.3O.2J>50||6.3N.2J>50){7(6.8(\'.2I\').2H<2G){15.s.K(\'15\')}22.s.K(\'21\')}G{7(6.8(\'.2I\').2H>2G){15.s.S(\'15\')}22.s.S(\'21\')}});k 14=20;1r.q(\'R\',()=>{14?1Z.s.S(\'2F\'):1Z.s.K(\'2F\');14?(1r.J.2E=\'2D(0)\'):(1r.J.2E=\'2D(3M)\');14=!14});1Y().2C(({f,m})=>{1q(f);2B(m);1p.J.1o=\'2A\';2z.S();3 1V=6.8(\'.H\');3 13=6.8(\'#13\');3 1X=6.8(\'#1X\');3 1W=6.8(\'#1W\');1X.q(\'1n\',({y})=>12(\'2y\',y.d,f));1V.q(\'H\',({y})=>12(\'5\',y.d,f));13.q(\'1n\',({y})=>12(\'2x\',y.d,f));1W.q(\'R\',()=>{1V.d=\'\';12(\'5\',\'\',f)})});3 1Q=[\'n Q\',\'n 1U\',\'n 1m\',\'n 1T\',\'n 11\',\'n 1l\',\'n 3L\',\'n 3K\',\'n 1S\',\'n 1R\',\'n 3J\'];3 1k=(9,g)=>{k Z;9=9.F(({h,r})=>1Q.j(h.5)&&r===\'i\');7(!9.j(g)){7(g.r!==\'i\')Z=(\'2w, 2v c 2u 3I\');7(!1Q.j(g.h.5))Z=(\'2w, 2v c 2u 3H 3G 3F n\')}G{9=9.F(({P})=>P!==\'\');9.1j((a,b)=>(a.u<b.u)?1:((b.u<a.u)?-1:0));3 x=9.x;9=9.1P(({4})=>4===g.4);Z=((((1/x)*3E)+1i.3D(9)).3C(2)+\'%\')}10 Z};',62,324,'|||const|fullName|name|document|if|querySelector|list|||character|value||characterList|hero|house|Unknown|includes|let|innerHTML|houseList|House|||addEventListener|died|classList|option|born|data|toLowerCase|length|target|words|houseInfo|src|filteredCharacters|heroDied|heroHouse|filter|else|input||style|add|of|class|img|chance|title|Stark|click|remove|charactersList|await|addon|trim|familiesList|div|winner|return|Baratheon|handleFilter|houseSort|isOpen|mainNew|async|globalCharacterList|forEach|push|loaderBar|gender|charactersItem|heroChance|houseLogo|modalHero|dialogDimensions|case|Math|sort|winChance|Greyjoy|Lannister|change|display|root|renderCharacters|dropdown|globalHousesList|lastName|el|find|obj|index|for|tvSeries|form|createElement|imageUrl|textContent|houseWords|modalImg|changeBtn|disabled|editable|parentElement|clientY|clientX|break|houseSortValue|nameSortValue|findIndex|greatHouses|Bolton|Martell|Tyrell|Targaryen|nameFind|clearInput|alphabetSort|getFullInfo|filterBlock|false|scroll|headerFixed|characters|findHouse|asc|handleAlphabetFilter|85|round|uniqueHouse|get|axios|append|selected|all|error|be|will|book|original|author|an|was|you|If|svg|houseSVG|heroImage|closeModal|alphabetSortValue|is|your|Sorry|houses|alphabetic|loader|block|renderFamiliesList|then|rotate|transform|active|560|clientHeight|container|scrollTop|filter__block|inputBlock|none|getAdditionalInfo|getCharactersList|Ser|Lord|titles|split|allegiances|api|com|https|Gendry|Bronn|Olenna|Tormund|Oberyn|High|The|Daario|Viserys|Drogo|Robert|familyLabel|handleModal|150|alt|handleNameFilter|matches|No|results|no|filterValue|renderModalData|openModal|br|Died|preventDefault|Thrones|Of|Game|png|throne|imageBackground|files|heroBorn|heroName|modalClose|modalWrapper|true|characterFilter|type|switch|toFixed|abs|100|Great|from|not|dead|Baelish|Mormont|Tully|180deg|documentElement|body|main|window|header__dropdown|header__fixed|characters__list|loader__wrapper|Prince|Princess|Queen|King|anapioficeandfire|Asha|Yara|Redwyne|Walder|Hodor|Giantsbane|Nymeros|Septon|Sparrow|Snow|Ramsay|Ramsey|Naharis|Targaryn|Khal|Clegane|Sandor|Hound|Jaime|Jamie|Robb|Rob|Eddard|Ned|Characters|v2|thronesapi|All|filter__house|id|select|label|card__text|card__description|height|width|card__img|blur|card__body|card|list__card|li|console|catch|try|unknown|alive|Alive|logo|2c2c2c|color|background|backdrop|setProperty|bottom|top|right|left|getBoundingClientRect|close|showModal|modal__background||coatOfArms__text|house__logo|character__change|character__chance|character__died|character__born|character__house|character__name|character__image|modal__close|modal__contant|modal|desc'.split('|'),0,{}))

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlci5qcyIsImhlcm8tbW9kYWwuanMiLCJpbnB1dC5qcyIsInJlbmRlci5qcyIsInJlcXVlc3RzLmpzIiwic2NyaXB0LmpzIiwid2luQ2hhbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PWNoYXJhY3RlciBmaWx0ZXI9PT09PT09PT09PT09PT09PT0vL1xubGV0IGFscGhhYmV0U29ydFZhbHVlID0gJ2FzYyc7XG5sZXQgbmFtZVNvcnRWYWx1ZSA9ICcnO1xubGV0IGhvdXNlU29ydFZhbHVlID0gJ2FsbCc7XG5cbmNvbnN0IGhhbmRsZUFscGhhYmV0RmlsdGVyID0gKGxpc3QsIHZhbHVlKSA9PiB7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlICdhc2MnOlxuICAgICAgbGlzdC5zb3J0KChhLCBiKSA9PlxuICAgICAgICAoYS5mdWxsTmFtZSA+IGIuZnVsbE5hbWUpID8gMSA6ICgoYi5mdWxsTmFtZSA+IGEuZnVsbE5hbWUpID8gLTEgOiAwKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkZXNjJzpcbiAgICAgIGxpc3Quc29ydCgoYSwgYikgPT5cbiAgICAgICAgKGEuZnVsbE5hbWUgPCBiLmZ1bGxOYW1lKSA/IDEgOiAoKGIuZnVsbE5hbWUgPCBhLmZ1bGxOYW1lKSA/IC0xIDogMCkpO1xuICB9XG4gIHJldHVybiBsaXN0O1xufTtcblxuY29uc3QgY2hhcmFjdGVyRmlsdGVyID0gKGxpc3QpID0+IHtcbiAgbGV0IGZpbHRlcmVkQ2hhcmFjdGVycyA9IGhhbmRsZUFscGhhYmV0RmlsdGVyKGxpc3QsIGFscGhhYmV0U29ydFZhbHVlKTtcblxuICBpZiAoaG91c2VTb3J0VmFsdWUgIT09ICdhbGwnKSB7XG4gICAgZmlsdGVyZWRDaGFyYWN0ZXJzID0gbGlzdC5maWx0ZXIoKHsgZnVsbE5hbWUsIGhvdXNlIH0pID0+XG4gICAgICBob3VzZS5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBob3VzZVNvcnRWYWx1ZS50cmltKClcbiAgICAgICYmXG4gICAgICBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWVTb3J0VmFsdWUpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmaWx0ZXJlZENoYXJhY3RlcnMgPSBsaXN0LmZpbHRlcigoeyBmdWxsTmFtZSB9KSA9PlxuICAgICAgZnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lU29ydFZhbHVlKSk7XG4gIH1cblxuICBpZiAoZmlsdGVyZWRDaGFyYWN0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNoYXJhY3RlcnNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cIm5vLXJlc3VsdHNcIj5ObyBtYXRjaGVzPC9wPic7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyQ2hhcmFjdGVycyhmaWx0ZXJlZENoYXJhY3RlcnMpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVGaWx0ZXIgPSAodHlwZSwgdmFsdWUsIGxpc3QpID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYWxwaGFiZXRpYyc6XG4gICAgICBhbHBoYWJldFNvcnRWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICduYW1lJzpcbiAgICAgIG5hbWVTb3J0VmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaG91c2VzJzpcbiAgICAgIGhvdXNlU29ydFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY2hhcmFjdGVyRmlsdGVyKGxpc3QpO1xufTtcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuIiwiY29uc3QgbW9kYWxIZXJvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5jb25zdCBtb2RhbFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhbnQnKTtcbmNvbnN0IG1vZGFsQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlJyk7XG5cbmNvbnN0IGhlcm9JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2ltYWdlJyk7XG5jb25zdCBoZXJvTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX25hbWUnKTtcbmNvbnN0IGhlcm9Ib3VzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2hvdXNlJyk7XG5jb25zdCBoZXJvQm9ybiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2Jvcm4nKTtcbmNvbnN0IGhlcm9EaWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlcl9fZGllZCcpO1xuY29uc3QgaGVyb0NoYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2NoYW5jZScpO1xuXG5jb25zdCBjaGFuZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19jaGFuZ2UnKTtcblxuY29uc3QgaG91c2VMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvdXNlX19sb2dvJyk7XG5jb25zdCBob3VzZVdvcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvYXRPZkFybXNfX3RleHQnKTtcbmNvbnN0IG1vZGFsSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19iYWNrZ3JvdW5kJyk7XG5cbmNvbnN0IG9wZW5Nb2RhbCA9ICgpID0+IG1vZGFsSGVyby5zaG93TW9kYWwoKTtcbmNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gIGhlcm9Ib3VzZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXRhYmxlJyk7XG4gIGhlcm9Ib3VzZS5kaXNhYmxlZCA9IHRydWU7XG4gIGhlcm9EaWVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZWRpdGFibGUnKTtcbiAgaGVyb0RpZWQuZGlzYWJsZWQgPSB0cnVlO1xuICBjaGFuZ2VCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIG1vZGFsSW1nLnNyYyA9ICcnO1xuICBob3VzZUxvZ28uc3JjID0gJyc7XG4gIGhvdXNlV29yZHMudGV4dENvbnRlbnQgPSAnJztcbiAgbW9kYWxIZXJvLmNsb3NlKCk7XG59O1xuXG5tb2RhbEhlcm8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjb25zdCBkaWFsb2dEaW1lbnNpb25zID0gbW9kYWxXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBpZiAoXG4gICAgKGUuY2xpZW50WCAhPT0gMCAmJiBlLmNsaWVudFggPCBkaWFsb2dEaW1lbnNpb25zLmxlZnQpIHx8XG4gICAgKGUuY2xpZW50WCAhPT0gMCAmJiBlLmNsaWVudFggPiBkaWFsb2dEaW1lbnNpb25zLnJpZ2h0KSB8fFxuICAgIChlLmNsaWVudFkgIT09IDAgJiYgZS5jbGllbnRZIDwgZGlhbG9nRGltZW5zaW9ucy50b3ApIHx8XG4gICAgKGUuY2xpZW50WSAhPT0gMCAmJiBlLmNsaWVudFkgPiBkaWFsb2dEaW1lbnNpb25zLmJvdHRvbSlcbiAgKSB7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9XG59KTtcblxubW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWwpO1xuXG5jb25zdCByZW5kZXJNb2RhbERhdGEgPSAoaGVybywgY2hhbmNlKSA9PiB7XG4gIGNvbnN0IHsgaW1hZ2VVcmwsIGZ1bGxOYW1lLCBob3VzZSwgYm9ybiwgZGllZCB9ID0gaGVybztcblxuICBoZXJvSW1hZ2Uuc3JjID0gaW1hZ2VVcmwudHJpbSgpO1xuICBoZXJvSW1hZ2UuYWx0ID0gZnVsbE5hbWU7XG5cbiAgaGVyb05hbWUuaW5uZXJIVE1MID0gZnVsbE5hbWU7XG5cbiAgaGVyb0hvdXNlLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScke2hvdXNlLm5hbWV9JyBzZWxlY3RlZD4ke2hvdXNlLm5hbWV9PC9vcHRpb24+YDtcblxuICBoZXJvQm9ybi5pbm5lckhUTUwgPSBib3JuO1xuXG4gIGhlcm9EaWVkLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScke2RpZWQudG9Mb3dlckNhc2UoKX0nIHNlbGVjdGVkPiR7ZGllZH08L29wdGlvbj5gO1xuXG4gIGhlcm9DaGFuY2UuaW5uZXJIVE1MID0gY2hhbmNlO1xuXG4gIGNoYW5nZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBoZXJvSG91c2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlZGl0YWJsZScpO1xuICAgIGhlcm9Ib3VzZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGhlcm9EaWVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUnKTtcbiAgICBoZXJvRGllZC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNoYW5nZUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcblxuICBpZiAoaGVyby5ob3VzZS5uYW1lICE9PSAnVW5rbm93bicpIHtcbiAgICBjb25zdCBmaWxlcyA9IFsnQmFyYXRoZW9uJywgJ0JvbHRvbicsICdHcmV5am95JywgJ0xhbm5pc3RlcicsICdTdGFyaycsICdUYXJnYXJ5ZW4nLCAnVHlyZWxsJ107XG4gICAgbGV0IHsgbmFtZSwgd29yZHMgfSA9IGhlcm8uaG91c2U7XG4gICAgbmFtZSA9IG5hbWUuc3BsaXQoJ0hvdXNlJylbMV0udHJpbSgpO1xuXG4gICAgY29uc3QgaW1hZ2VCYWNrZ3JvdW5kID0gYC4vaW1nL2hvdXNlU1ZHLyR7bmFtZX0uc3ZnYDtcbiAgICBtb2RhbEhlcm8uc3R5bGUuc2V0UHJvcGVydHkoJzo6YmFja2Ryb3AnLCAnYmFja2dyb3VuZC1jb2xvcjogIzJjMmMyYycpO1xuICAgIG1vZGFsSW1nLnNyYyA9IGZpbGVzLmluY2x1ZGVzKG5hbWUpID8gaW1hZ2VCYWNrZ3JvdW5kIDogYC4vaW1nL2hvdXNlU1ZHL3Rocm9uZS5zdmdgO1xuICAgIGhvdXNlTG9nby5zcmMgPSBgLi9pbWcvaG91c2VMb2dvLyR7bmFtZX0ucG5nYDtcbiAgICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gd29yZHMgIT09ICdVbmtub3duJyA/IHdvcmRzIDogJ0dhbWUgT2YgVGhyb25lcyc7XG4gIH0gZWxzZSB7XG4gICAgbW9kYWxJbWcuc3JjID0gYC4uL2ltZy9ob3VzZVNWRy90aHJvbmUuc3ZnYDtcbiAgICBob3VzZUxvZ28uc3JjID0gYC4vaW1nL2xvZ28ucG5nYDtcbiAgICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gJ0dhbWUgT2YgVGhyb25lcyc7XG4gIH1cblxuICBnbG9iYWxIb3VzZXNMaXN0LmZvckVhY2goXG4gICAgKGUpID0+IChoZXJvSG91c2UuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPScke2UubmFtZX0nPiR7ZS5uYW1lfTwvb3B0aW9uPmApXG4gICk7XG5cbiAgWydBbGl2ZScsICdEaWVkJ10uZm9yRWFjaChcbiAgICAoZSkgPT4gKGhlcm9EaWVkLmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0nJHtlLnRvTG93ZXJDYXNlKCl9Jz4ke2V9PC9vcHRpb24+YClcbiAgKTtcblxuICBoZXJvSG91c2UuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGVyby5ob3VzZSA9IGdsb2JhbEhvdXNlc0xpc3QuZmluZCgoZWwpID0+IGVsLm5hbWUgPT09IGUudGFyZ2V0LnZhbHVlKTtcbiAgICBoZXJvQ2hhbmNlLnRleHRDb250ZW50ID0gJ0lmIHlvdSB3YXMgYW4gYXV0aG9yIG9mIG9yaWdpbmFsIGJvb2ssIGNoYW5jZSB3aWxsIGJlOic7XG5cbiAgICBoZXJvQ2hhbmNlLmlubmVySFRNTCA9XG4gICAgICAnSWYgeW91IHdhcyBhbiBhdXRob3Igb2Ygb3JpZ2luYWwgYm9vaywgY2hhbmNlIHdpbGwgYmU6IDxicj4nICtcbiAgICAgIHdpbkNoYW5jZShnbG9iYWxDaGFyYWN0ZXJMaXN0LCBoZXJvKTtcbiAgfSk7XG5cbiAgaGVyb0RpZWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGVyby5kaWVkID0gZS50YXJnZXQudmFsdWUgPT09ICdhbGl2ZScgfHwgZS50YXJnZXQudmFsdWUgPT09ICd1bmtub3duJyA/ICdVbmtub3duJyA6ICdEaWVkJztcbiAgICBoZXJvQ2hhbmNlLmlubmVySFRNTCA9XG4gICAgICAnSWYgeW91IHdhcyBhbiBhdXRob3Igb2Ygb3JpZ2luYWwgYm9vaywgY2hhbmNlIHdpbGwgYmU6IDxicj4nICtcbiAgICAgIHdpbkNoYW5jZShnbG9iYWxDaGFyYWN0ZXJMaXN0LCBoZXJvKTtcbiAgfSk7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKiBTZXR1cCBNb2RhbCBPbiBDbGljayoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuY29uc3QgaGFuZGxlTW9kYWwgPSAoaGVybykgPT4ge1xuICBpZiAoaGVybykge1xuICAgIG9wZW5Nb2RhbCgpO1xuXG4gICAgY29uc3QgY2hhbmNlID0gd2luQ2hhbmNlKGdsb2JhbENoYXJhY3Rlckxpc3QsIGhlcm8pO1xuICAgIHJlbmRlck1vZGFsRGF0YShoZXJvLCBjaGFuY2UpO1xuICB9XG59O1xuIiwiLy89PT09PT09PT09PT09Y2hhcmFjdGVyIGZpbHRlcj09PT09PT09PT09PT09PT09PS8vXG5jb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpO1xuLy9cbmNvbnN0IGhhbmRsZU5hbWVGaWx0ZXIgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBjaGFyYWN0ZXJMaXN0IH0gPSBhd2FpdCBnZXRGdWxsSW5mbygpO1xuICAgIGNvbnN0IGZpbHRlclZhbHVlID0gaW5wdXQudmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG5cbiAgICBjb25zdCBmaWx0ZXJlZENoYXJhY3RlcnMgPSBjaGFyYWN0ZXJMaXN0LmZpbHRlcigoY2hhcmFjdGVyKSA9PlxuICAgICAgY2hhcmFjdGVyLmZ1bGxOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyVmFsdWUpXG4gICAgKTtcblxuICAgIGlmIChmaWx0ZXJlZENoYXJhY3RlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjaGFyYWN0ZXJzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJuby1yZXN1bHRzXCI+Tm8gbWF0Y2hlczwvcD4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGFyYWN0ZXJzTGlzdC5pbm5lckhUTUwgPSAnJzsgLy8g0J7Rh9C40YnRg9GU0LzQviDQv9C+0L/QtdGA0LXQtNC90ZYg0YDQtdC30YPQu9GM0YLQsNGC0LhcbiAgICAgIHJlbmRlckNoYXJhY3RlcnMoZmlsdGVyZWRDaGFyYWN0ZXJzKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign0J/QvtC80LjQu9C60LAg0L/RgNC4INC+0YLRgNC40LzQsNC90L3RliDQtNCw0L3QuNGFOicsIGVycm9yKTtcbiAgfVxufTtcbmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlTmFtZUZpbHRlcik7XG4iLCJjb25zdCByZW5kZXJDaGFyYWN0ZXJzID0gKGxpc3QpID0+IHtcbiAgY2hhcmFjdGVyc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gIGxpc3QuZm9yRWFjaCgoaGVybykgPT4ge1xuICAgIGNvbnN0IHsgZnVsbE5hbWUsIGltYWdlVXJsIH0gPSBoZXJvO1xuICAgIGNvbnN0IGNoYXJhY3RlcnNJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBjaGFyYWN0ZXJzSXRlbS5jbGFzc0xpc3QuYWRkKCdsaXN0X19jYXJkJywgJ2NhcmQnKTtcbiAgICBjaGFyYWN0ZXJzSXRlbS5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdjYXJkX19ib2R5IGJsdXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nY2FyZF9faW1nJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPSdpbWcnIHNyYz0nJHtpbWFnZVVybH0nIGFsdD0nJHtmdWxsTmFtZX0nIHdpZHRoPScxNTAnIGhlaWdodD0nMTUwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nY2FyZF9fZGVzY3JpcHRpb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSdjYXJkX190ZXh0Jz4ke2Z1bGxOYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICBjaGFyYWN0ZXJzSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGhhbmRsZU1vZGFsKGhlcm8pKTtcbiAgICBjaGFyYWN0ZXJzTGlzdC5hcHBlbmQoY2hhcmFjdGVyc0l0ZW0pO1xuICB9KTtcbn07XG5jb25zdCByZW5kZXJGYW1pbGllc0xpc3QgPSAobGlzdCkgPT4ge1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBjb25zdCBmYW1pbHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGZhbWlseUxhYmVsLmZvciA9ICdob3VzZVNvcnQnO1xuICBjb25zdCBmYW1pbGllc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgZmFtaWxpZXNMaXN0LmlkID0gJ2hvdXNlU29ydCc7XG4gIGZhbWlsaWVzTGlzdC5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJfX2hvdXNlJyk7XG4gIGZhbWlsaWVzTGlzdC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nYWxsJyBzZWxlY3RlZD5BbGw8L29wdGlvbj5gO1xuICBsaXN0LmZvckVhY2goKHsgbmFtZSB9KSA9PiBmYW1pbGllc0xpc3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPScke25hbWV9Jz4ke25hbWV9PC9vcHRpb24+YCk7XG4gIGZvcm0uYXBwZW5kKGZhbWlsaWVzTGlzdCk7XG4gIGlucHV0QmxvY2suYXBwZW5kKGZvcm0pO1xufTsiLCJsZXQgZ2xvYmFsQ2hhcmFjdGVyTGlzdDtcbmxldCBnbG9iYWxIb3VzZXNMaXN0O1xuY29uc3QgbG9hZGVyQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvYWRlckJhcicpO1xuY29uc3QgZ2V0Q2hhcmFjdGVyc0xpc3QgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL3Rocm9uZXNhcGkuY29tL2FwaS92Mi9DaGFyYWN0ZXJzJyk7XG4gIGxvYWRlckJhci52YWx1ZSArPSBNYXRoLnJvdW5kKDEuODUpO1xuICByZXR1cm4gZGF0YTtcbn07XG5jb25zdCBnZXRBZGRpdGlvbmFsSW5mbyA9IGFzeW5jIChsaXN0KSA9PiB7XG4gIGxldCBjaGFyYWN0ZXJMaXN0ID0gW107XG4gIGxldCBob3VzZUxpc3QgPSBbXTtcbiAgZm9yIChsZXQgY2hhcmFjdGVyIG9mIGxpc3QpIHtcbiAgICBsZXQgeyBmdWxsTmFtZSwgbGFzdE5hbWUgfSA9IGNoYXJhY3RlcjtcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdSb2JlcnQgQmFyYXRoZW9uJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1JvYmVydCBJIEJhcmF0aGVvbic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnTmVkIFN0YXJrJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0VkZGFyZCBTdGFyayc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnUm9iIFN0YXJrJykgZnVsbE5hbWUgPSAnUm9iYiBTdGFyayc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnSmFtaWUgTGFubmlzdGVyJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0phaW1lIExhbm5pc3Rlcic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnVGhlIEhvdW5kJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1NhbmRvciBDbGVnYW5lJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdLaGFsIERyb2dvJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0Ryb2dvJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdWaXNlcnlzIFRhcmdhcnluJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1Zpc2VyeXMgVGFyZ2FyeWVuJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdEYWFyaW8nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnRGFhcmlvIE5haGFyaXMnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1JhbXNleSBCb2x0b24nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnUmFtc2F5IFNub3cnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1RoZSBIaWdoIFNwYXJyb3cnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnSGlnaCBTZXB0b24nO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ09iZXJ5biBNYXJ0ZWxsJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ09iZXJ5biBOeW1lcm9zIE1hcnRlbGwnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1Rvcm11bmQgR2lhbnRzYmFuZScpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdUb3JtdW5kJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdIb2RvcicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdXYWxkZXInO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ09sZW5uYSBUeXJlbGwnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnT2xlbm5hIFJlZHd5bmUnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0xvcmQgQnJvbm4nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnQnJvbm4nO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1lhcmEgR3JleWpveScpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdBc2hhIEdyZXlqb3knO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0dlbmRyeSBCYXJhdGhlb24nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnR2VuZHJ5JztcbiAgICBmdWxsTmFtZSA9IGNoYXJhY3Rlci5mdWxsTmFtZTtcbiAgICBhd2FpdCBheGlvc1xuICAgICAgLmdldCgnaHR0cHM6Ly9hbmFwaW9maWNlYW5kZmlyZS5jb20vYXBpL2NoYXJhY3RlcnM/bmFtZT0nICsgZnVsbE5hbWUpXG4gICAgICAudGhlbihhc3luYyAoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCB7IGFsbGVnaWFuY2VzLCBnZW5kZXIsIGJvcm4sIGRpZWQsIHRpdGxlcywgdHZTZXJpZXMgfSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAodHZTZXJpZXMgJiYgdHZTZXJpZXMubGVuZ3RoID4gMCAmJiB0dlNlcmllc1swXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgbGV0IGhvdXNlSW5mbyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhvdXNlIG9mIGFsbGVnaWFuY2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoaG91c2UpO1xuICAgICAgICAgICAgICAgIGhvdXNlSW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZS5zcGxpdCgnb2YnKVswXS50cmltKCksXG4gICAgICAgICAgICAgICAgICB3b3JkczogZGF0YS53b3JkcyA/IGRhdGEud29yZHMgOiAnVW5rbm93bidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChob3VzZUluZm8ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxldCB1bmlxdWVIb3VzZSA9IGhvdXNlSW5mby5maW5kKChlKSA9PiBlLm5hbWUuaW5jbHVkZXMobGFzdE5hbWUpKTtcbiAgICAgICAgICAgICAgICBob3VzZUluZm8gPSBbdW5pcXVlSG91c2UgPyB1bmlxdWVIb3VzZSA6IGhvdXNlSW5mb1swXV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZSkgPT5cbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ0tpbmcnKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnUXVlZW4nKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnUHJpbmNlc3MnKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnUHJpbmNlJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ1NlcicpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdMb3JkJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ1NlcicpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgY29uc3QgYWRkb24gPSB7XG4gICAgICAgICAgICAgICAgaG91c2U6IGhvdXNlSW5mby5sZW5ndGggPiAwID8gaG91c2VJbmZvWzBdIDogeyBuYW1lOiAnVW5rbm93bicsIHdvcmRzOiAnVW5rbm93bicgfSxcbiAgICAgICAgICAgICAgICBnZW5kZXI6IGdlbmRlciA/IGdlbmRlciA6ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICBib3JuOiBib3JuID8gYm9ybiA6ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICBkaWVkOiBkaWVkID8gZGllZCA6ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUgPyB0aXRsZSA6ICcnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNoYXJhY3Rlckxpc3QucHVzaCh7IC4uLmNoYXJhY3RlciwgLi4uYWRkb24gfSk7XG4gICAgICAgICAgICAgIGhvdXNlTGlzdC5wdXNoKGFkZG9uLmhvdXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvYWRlckJhci52YWx1ZSArPSBNYXRoLnJvdW5kKDEuODUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhZGRvbiA9IHtcbiAgICAgICAgICAgIGhvdXNlOiB7IG5hbWU6ICdVbmtub3duJywgd29yZHM6ICdVbmtub3duJyB9LFxuICAgICAgICAgICAgZ2VuZGVyOiAnVW5rbm93bicsXG4gICAgICAgICAgICBib3JuOiAnVW5rbm93bicsXG4gICAgICAgICAgICBkaWVkOiAnVW5rbm93bidcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbG9hZGVyQmFyLnZhbHVlICs9IE1hdGgucm91bmQoMS44NSk7XG4gICAgICAgICAgY2hhcmFjdGVyTGlzdC5wdXNoKHsgLi4uY2hhcmFjdGVyLCAuLi5hZGRvbiB9KTtcbiAgICAgICAgICBob3VzZUxpc3QucHVzaChhZGRvbi5ob3VzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhcmFjdGVyTGlzdCA9IGNoYXJhY3Rlckxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gY2hhcmFjdGVyTGlzdC5maW5kSW5kZXgoKG8pID0+IG9iai5mdWxsTmFtZSA9PT0gby5mdWxsTmFtZSlcbiAgKTtcbiAgY2hhcmFjdGVyTGlzdCA9IGhhbmRsZUFscGhhYmV0RmlsdGVyKGNoYXJhY3Rlckxpc3QsICdhc2MnKTtcblxuICBob3VzZUxpc3QgPSBob3VzZUxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gaG91c2VMaXN0LmZpbmRJbmRleCgobykgPT4gb2JqLm5hbWUgPT09IG8ubmFtZSlcbiAgKTtcblxuICBob3VzZUxpc3Quc29ydCgoYSwgYikgPT4gKGEubmFtZSA+IGIubmFtZSA/IDEgOiBiLm5hbWUgPiBhLm5hbWUgPyAtMSA6IDApKTtcblxuICBjaGFyYWN0ZXJMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICBpZiAoZS5ob3VzZS5uYW1lID09PSAnVW5rbm93bicpIHtcbiAgICAgIGNvbnN0IGZpbmRIb3VzZSA9IGhvdXNlTGlzdC5maW5kKChlbCkgPT4gZS5sYXN0TmFtZSAhPT0gJycgJiYgZWwubmFtZS5pbmNsdWRlcyhlLmxhc3ROYW1lKSk7XG4gICAgICBlLmhvdXNlID0gZmluZEhvdXNlID8gZmluZEhvdXNlIDogZS5ob3VzZTtcbiAgICB9XG4gIH0pO1xuICBnbG9iYWxDaGFyYWN0ZXJMaXN0ID0gY2hhcmFjdGVyTGlzdDtcbiAgZ2xvYmFsSG91c2VzTGlzdCA9IGhvdXNlTGlzdDtcbiAgcmV0dXJuIHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH07XG59O1xuXG5jb25zdCBnZXRGdWxsSW5mbyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgY2hhcmFjdGVycyA9IGF3YWl0IGdldENoYXJhY3RlcnNMaXN0KCk7XG4gIGNvbnN0IHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH0gPSBhd2FpdCBnZXRBZGRpdGlvbmFsSW5mbyhjaGFyYWN0ZXJzKTtcbiAgcmV0dXJuIHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH07XG59O1xuIiwiY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290Jyk7XG5yb290LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbmNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXJfX3dyYXBwZXInKTtcbmNvbnN0IGNoYXJhY3RlcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcnNfX2xpc3QnKTtcbmNvbnN0IGlucHV0QmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX19ibG9jaycpO1xuXG5jb25zdCBoZWFkZXJGaXhlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2ZpeGVkJyk7XG5cbmNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZHJvcGRvd24nKTtcbmNvbnN0IGZpbHRlckJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl9fYmxvY2snKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgbGV0IG1haW5OZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPiA1MCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID4gNTApIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmNsaWVudEhlaWdodCA8IDU2MCkge1xuICAgICAgbWFpbk5ldy5jbGFzc0xpc3QuYWRkKCdtYWluTmV3Jyk7XG4gICAgfVxuICAgIGhlYWRlckZpeGVkLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbCcpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuY2xpZW50SGVpZ2h0ID4gNTYwKSB7XG4gICAgICBtYWluTmV3LmNsYXNzTGlzdC5yZW1vdmUoJ21haW5OZXcnKTtcbiAgICB9XG4gICAgaGVhZGVyRml4ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsJyk7XG4gIH1cbn0pO1xuXG5sZXQgaXNPcGVuID0gZmFsc2U7XG5kcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaXNPcGVuID8gZmlsdGVyQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykgOiBmaWx0ZXJCbG9jay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgaXNPcGVuID8gKGRyb3Bkb3duLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMCknKSA6IChkcm9wZG93bi5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDE4MGRlZyknKTtcbiAgaXNPcGVuID0gIWlzT3Blbjtcbn0pO1xuXG5nZXRGdWxsSW5mbygpLnRoZW4oKHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH0pID0+IHtcbiAgcmVuZGVyQ2hhcmFjdGVycyhjaGFyYWN0ZXJMaXN0KTtcbiAgcmVuZGVyRmFtaWxpZXNMaXN0KGhvdXNlTGlzdCk7XG4gIHJvb3Quc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGxvYWRlci5yZW1vdmUoKTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipGSUxURVIqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBjb25zdCBuYW1lRmluZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpO1xuICBjb25zdCBob3VzZVNvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG91c2VTb3J0Jyk7XG4gIGNvbnN0IGFscGhhYmV0U29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbHBoYWJldFNvcnQnKTtcbiAgY29uc3QgY2xlYXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGVhcklucHV0Jyk7XG4gIGFscGhhYmV0U29ydC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoeyB0YXJnZXQgfSkgPT5cbiAgICBoYW5kbGVGaWx0ZXIoJ2FscGhhYmV0aWMnLCB0YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpXG4gICk7XG5cbiAgbmFtZUZpbmQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoeyB0YXJnZXQgfSkgPT5cbiAgICBoYW5kbGVGaWx0ZXIoJ25hbWUnLCB0YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpXG4gICk7XG5cbiAgaG91c2VTb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICh7IHRhcmdldCB9KSA9PlxuICAgIGhhbmRsZUZpbHRlcignaG91c2VzJywgdGFyZ2V0LnZhbHVlLCBjaGFyYWN0ZXJMaXN0KVxuICApO1xuXG4gIGNsZWFySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmFtZUZpbmQudmFsdWUgPSAnJztcbiAgICBoYW5kbGVGaWx0ZXIoJ25hbWUnLCAnJywgY2hhcmFjdGVyTGlzdCk7XG4gIH0pO1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xufSk7XG4iLCJjb25zdCBncmVhdEhvdXNlcyA9IFtcbiAgJ0hvdXNlIFN0YXJrJyxcbiAgJ0hvdXNlIFRhcmdhcnllbicsXG4gICdIb3VzZSBMYW5uaXN0ZXInLFxuICAnSG91c2UgVHlyZWxsJyxcbiAgJ0hvdXNlIEJhcmF0aGVvbicsXG4gICdIb3VzZSBHcmV5am95JyxcbiAgJ0hvdXNlIFR1bGx5JyxcbiAgJ0hvdXNlIE1vcm1vbnQnLFxuICAnSG91c2UgTWFydGVsbCcsXG4gICdIb3VzZSBCb2x0b24nLFxuICAnSG91c2UgQmFlbGlzaCdcbl07XG5jb25zdCB3aW5DaGFuY2UgPSAobGlzdCwgaGVybykgPT4ge1xuICBsZXQgd2lubmVyO1xuXG4gIGxpc3QgPSBsaXN0LmZpbHRlcigoeyBob3VzZSwgZGllZCB9KSA9PiBncmVhdEhvdXNlcy5pbmNsdWRlcyhob3VzZS5uYW1lKSAmJiBkaWVkID09PSAnVW5rbm93bicpO1xuXG4gIGlmICghbGlzdC5pbmNsdWRlcyhoZXJvKSkge1xuICAgIGlmIChoZXJvLmRpZWQgIT09ICdVbmtub3duJykgd2lubmVyID0gKCdTb3JyeSwgeW91ciBjaGFyYWN0ZXIgaXMgZGVhZCcpO1xuICAgIGlmICghZ3JlYXRIb3VzZXMuaW5jbHVkZXMoaGVyby5ob3VzZS5uYW1lKSkgd2lubmVyID0gKCdTb3JyeSwgeW91ciBjaGFyYWN0ZXIgaXMgbm90IGZyb20gR3JlYXQgSG91c2UnKTtcbiAgfSBlbHNlIHtcbiAgICBsaXN0ID0gbGlzdC5maWx0ZXIoKHsgdGl0bGUgfSkgPT4gdGl0bGUgIT09ICcnKTtcbiAgICBsaXN0LnNvcnQoKGEsIGIpID0+IChhLmJvcm4gPCBiLmJvcm4pID8gMSA6ICgoYi5ib3JuIDwgYS5ib3JuKSA/IC0xIDogMCkpO1xuXG4gICAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgbGlzdCA9IGxpc3QuZmluZEluZGV4KCh7IGZ1bGxOYW1lIH0pID0+IGZ1bGxOYW1lID09PSBoZXJvLmZ1bGxOYW1lKTtcblxuICAgIHdpbm5lciA9ICgoKCgxIC8gbGVuZ3RoKSAqIDEwMCkgKyBNYXRoLmFicyhsaXN0KSkudG9GaXhlZCgyKSArICclJyk7XG4gIH1cbiAgcmV0dXJuIHdpbm5lcjtcbn07Il19
