eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('k 2s=\'26\';k 1O=\'\';k 1N=\'2d\';3 27=(9,d)=>{3C(d){1h\'26\':9.1i((a,b)=>(a.4>b.4)?1:((b.4>a.4)?-1:0));1M;1h\'5e\':9.1i((a,b)=>(a.4<b.4)?1:((b.4<a.4)?-1:0))}10 9};3 3A=(9)=>{k C=27(9,2s);7(1N!==\'2d\'){C=9.F(({4,h})=>h.5.w().W()===1N.W()&&4.w().j(1O))}G{C=9.F(({4})=>4.w().j(1O))}7(C.x===0){T.l=\'<p M="3h-3g">3f 3e</p>\'}G{1p(C)}};3 12=(3B,d,9)=>{3C(3B){1h\'2x\':2s=d.w();1M;1h\'5\':1O=d.w();1M;1h\'2w\':1N=d.w();1M}3A(9)};3 1f=6.8(\'.5d\');3 3y=6.8(\'.5c\');3 3x=6.8(\'.5b\');3 2q=6.8(\'.5a\');3 3w=6.8(\'.59\');3 E=6.8(\'.58\');3 3v=6.8(\'.57\');3 D=6.8(\'.56\');3 1c=6.8(\'.55\');3 1G=6.8(\'.54\');3 1e=6.8(\'.53\');3 1E=6.8(\'.52\');3 1F=6.8(\'.51\');3 3k=()=>1f.4Z();3 2r=()=>{E.1J.s.S(\'1I\');E.1H=3z;D.1J.s.S(\'1I\');D.1H=3z;1G.J.1n=\'2z\';1F.B=\'\';1e.B=\'\';1E.1D=\'\';1f.4Y()};1f.q(\'R\',(e)=>{3 1g=3y.4X();7((e.1L!==0&&e.1L<1g.4W)||(e.1L!==0&&e.1L>1g.4V)||(e.1K!==0&&e.1K<1g.4U)||(e.1K!==0&&e.1K>1g.4T)){2r()}});3x.q(\'R\',2r);3 3j=(g,O)=>{3{1C,4,h,u,r}=g;2q.B=1C.W();2q.3c=4;3w.l=4;E.l=`<t d=\'${h.5}\'2c>${h.5}</t>`;3v.l=u;D.l=`<t d=\'${r.w()}\'2c>${r}</t>`;1c.l=O;1G.q(\'R\',()=>{E.1J.s.K(\'1I\');E.1H=21;D.1J.s.K(\'1I\');D.1H=21;1G.J.1n=\'2L\'});7(g.h.5!==\'i\'){3 3u=[\'11\',\'1S\',\'1k\',\'1l\',\'Q\',\'1V\',\'1U\'];k{5,z}=g.h;5=5.2T(\'n\')[1].W();3 3t=`./1d/N/2p/${5}.2o`;1f.J.4S(\'::4R\',\'4Q-4P: #4O\');1F.B=3u.j(5)?3t:`./1d/N/2p/3s.2o`;1e.B=`./1d/N/1e/${5}.3r`;1E.1D=z!==\'i\'?z:\'3q 3p 3o\'}G{1F.B=`../1d/N/2p/3s.2o`;1e.B=`./1d/N/4N.3r`;1E.1D=\'3q 3p 3o\'}1r.18((e)=>(E.l+=`<t d=\'${e.5}\'>${e.5}</t>`));[\'4M\',\'3m\'].18((e)=>(D.l+=`<t d=\'${e.w()}\'>${e}</t>`));E.q(\'1m\',(e)=>{e.3n();g.h=1r.1u((1t)=>1t.5===e.y.d);1c.1D=\'2n 2m 2l 2k 2j L 2i 2h, O 2g 2f:\';1c.l=\'2n 2m 2l 2k 2j L 2i 2h, O 2g 2f: <3l>\'+1j(17,g)});D.q(\'1m\',(e)=>{e.3n();g.r=e.y.d===\'4L\'||e.y.d===\'4K\'?\'i\':\'3m\';1c.l=\'2n 2m 2l 2k 2j L 2i 2h, O 2g 2f: <3l>\'+1j(17,g)})};3 3a=(g)=>{7(g){3k();3 O=1j(17,g);3j(g,O)}};3 H=6.8(\'.H\');3 3d=16()=>{4J{3{f}=U 1Z();3 3i=H.d.w().W();3 C=f.F((c)=>c.4.w().j(3i));7(C.x===0){T.l=\'<p M="3h-3g">3f 3e</p>\'}G{T.l=\'\';1p(C)}}4I(2e){4H.2e(\'Помилка при отриманні даних:\',2e)}};H.q(\'H\',3d);3 1p=(9)=>{T.l=\'\';9.18((g)=>{3{4,1C}=g;3 1b=6.1B(\'4G\');1b.s.K(\'4F\',\'4E\');1b.l+=`<Y M=\'4D 4C\'><Y M=\'4B\'><N M=\'N\'B=\'${1C}\'3c=\'${4}\'4A=\'3b\'4z=\'3b\'></Y><Y M=\'4y\'><p M=\'4x\'>${4}</p></Y></Y>`;1b.q(\'R\',()=>3a(g));T.2b(1b)})};3 2A=(9)=>{3 1A=6.1B(\'1A\');3 39=6.1B(\'4w\');39.1y=\'13\';3 X=6.1B(\'4v\');X.4u=\'13\';X.s.K(\'4t\');X.l=`<t d=\'2d\'2c>4s</t>`;9.18(({5})=>X.l+=`<t d=\'${5}\'>${5}</t>`);1A.2b(X);2K.2b(1A)};k 17;k 1r;3 1x=6.8(\'#1x\');3 2N=16()=>{3{v}=U 2a.29(\'2X://4r.2W/2V/4q/4p\');1x.d+=1P.2P(1.2O);10 v};3 2M=16(9)=>{k f=[];k m=[];1y(k c L 9){k{4,1s}=c;7(4===\'38 11\')c.4=\'38 I 11\';7(4===\'4o Q\')c.4=\'4n Q\';7(4===\'4m Q\')4=\'4l Q\';7(4===\'4k 1l\')c.4=\'4j 1l\';7(4===\'34 4i\')c.4=\'4h 4g\';7(4===\'4f 37\')c.4=\'37\';7(4===\'36 4e\')c.4=\'36 1V\';7(4===\'35\')c.4=\'35 4d\';7(4===\'4c 1S\')c.4=\'4b 4a\';7(4===\'34 33 49\')c.4=\'33 48\';7(4===\'32 1T\')c.4=\'32 47 1T\';7(4===\'31 46\')c.4=\'31\';7(4===\'45\')c.4=\'44\';7(4===\'30 1U\')c.4=\'30 43\';7(4===\'2R 2Z\')c.4=\'2Z\';7(4===\'42 1k\')c.4=\'41 1k\';7(4===\'2Y 11\')c.4=\'2Y\';4=c.4;U 2a.29(\'2X://40.2W/2V/24?5=\'+4).2B(16({v})=>{7(v&&v.x>0){1y(3{2U,1a,u,r,2S,1z}L v){7(1z&&1z.x>0&&1z[0]!==\'\'){k A=[];1y(3 h L 2U){3{v}=U 2a.29(h);A.19({5:v.5.2T(\'L\')[0].W(),z:v.z?v.z:\'i\'})}7(A.x>1){k 28=A.1u((e)=>e.5.j(1s));A=[28?28:A[0]]}3 P=2S.1u((e)=>e.j(\'3Z\')||e.j(\'3Y\')||e.j(\'3X\')||e.j(\'3W\')||e.j(\'2Q\')||e.j(\'2R\')||e.j(\'2Q\'));3 V={h:A.x>0?A[0]:{5:\'i\',z:\'i\'},1a:1a?1a:\'i\',u:u?u:\'i\',r:r?r:\'i\',P:P?P:\'\'};f.19({...c,...V});m.19(V.h)}}}G{3 V={h:{5:\'i\',z:\'i\'},1a:\'i\',u:\'i\',r:\'i\'};f.19({...c,...V});m.19(V.h)}1x.d=1P.2P(1.2O)})}f=f.F((1v,1w)=>1w===f.1Q((o)=>1v.4===o.4));f=27(f,\'26\');m=m.F((1v,1w)=>1w===m.1Q((o)=>1v.5===o.5));m.1i((a,b)=>(a.5>b.5?1:b.5>a.5?-1:0));f.18((e)=>{7(e.h.5===\'i\'){3 25=m.1u((1t)=>e.1s!==\'\'&&1t.5.j(e.1s));e.h=25?25:e.h}});17=f;1r=m;10{f,m}};3 1Z=16()=>{3 24=U 2N();3{f,m}=U 2M(24);10{f,m}};3 1o=6.8(\'#1o\');1o.J.1n=\'2L\';3 2y=6.8(\'.3V\');3 T=6.8(\'.3U\');3 2K=6.8(\'.2J\');3 23=6.8(\'.3T\');3 1q=6.8(\'.3S\');3 20=6.8(\'.2J\');3R.q(\'22\',()=>{k 15=6.8(\'.3Q\');7(6.3P.2I>50||6.3O.2I>50){7(6.8(\'.2H\').2G<2F){15.s.K(\'15\')}23.s.K(\'22\')}G{7(6.8(\'.2H\').2G>2F){15.s.S(\'15\')}23.s.S(\'22\')}});k 14=21;1q.q(\'R\',()=>{14?20.s.S(\'2E\'):20.s.K(\'2E\');14?(1q.J.2D=\'2C(0)\'):(1q.J.2D=\'2C(3N)\');14=!14});1Z().2B(({f,m})=>{1p(f);2A(m);1o.J.1n=\'2z\';2y.S();3 1W=6.8(\'.H\');3 13=6.8(\'#13\');3 1Y=6.8(\'#1Y\');3 1X=6.8(\'#1X\');1Y.q(\'1m\',({y})=>12(\'2x\',y.d,f));1W.q(\'H\',({y})=>12(\'5\',y.d,f));13.q(\'1m\',({y})=>12(\'2w\',y.d,f));1X.q(\'R\',()=>{1W.d=\'\';12(\'5\',\'\',f)})});3 1R=[\'n Q\',\'n 1V\',\'n 1l\',\'n 1U\',\'n 11\',\'n 1k\',\'n 3M\',\'n 3L\',\'n 1T\',\'n 1S\',\'n 3K\'];3 1j=(9,g)=>{k Z;9=9.F(({h,r})=>1R.j(h.5)&&r===\'i\');7(!9.j(g)){7(g.r!==\'i\')Z=(\'2v, 2u c 2t 3J\');7(!1R.j(g.h.5))Z=(\'2v, 2u c 2t 3I 3H 3G n\')}G{9=9.F(({P})=>P!==\'\');9.1i((a,b)=>(a.u<b.u)?1:((b.u<a.u)?-1:0));3 x=9.x;9=9.1Q(({4})=>4===g.4);Z=((((1/x)*3F)+1P.3E(9)).3D(2)+\'%\')}10 Z};',62,325,'|||const|fullName|name|document|if|querySelector|list|||character|value||characterList|hero|house|Unknown|includes|let|innerHTML|houseList|House|||addEventListener|died|classList|option|born|data|toLowerCase|length|target|words|houseInfo|src|filteredCharacters|heroDied|heroHouse|filter|else|input||style|add|of|class|img|chance|title|Stark|click|remove|charactersList|await|addon|trim|familiesList|div|winner|return|Baratheon|handleFilter|houseSort|isOpen|mainNew|async|globalCharacterList|forEach|push|gender|charactersItem|heroChance|dist|houseLogo|modalHero|dialogDimensions|case|sort|winChance|Greyjoy|Lannister|change|display|root|renderCharacters|dropdown|globalHousesList|lastName|el|find|obj|index|loaderBar|for|tvSeries|form|createElement|imageUrl|textContent|houseWords|modalImg|changeBtn|disabled|editable|parentElement|clientY|clientX|break|houseSortValue|nameSortValue|Math|findIndex|greatHouses|Bolton|Martell|Tyrell|Targaryen|nameFind|clearInput|alphabetSort|getFullInfo|filterBlock|false|scroll|headerFixed|characters|findHouse|asc|handleAlphabetFilter|uniqueHouse|get|axios|append|selected|all|error|be|will|book|original|author|an|was|you|If|svg|houseSVG|heroImage|closeModal|alphabetSortValue|is|your|Sorry|houses|alphabetic|loader|block|renderFamiliesList|then|rotate|transform|active|560|clientHeight|container|scrollTop|filter__block|inputBlock|none|getAdditionalInfo|getCharactersList|85|round|Ser|Lord|titles|split|allegiances|api|com|https|Gendry|Bronn|Olenna|Tormund|Oberyn|High|The|Daario|Viserys|Drogo|Robert|familyLabel|handleModal|150|alt|handleNameFilter|matches|No|results|no|filterValue|renderModalData|openModal|br|Died|preventDefault|Thrones|Of|Game|png|throne|imageBackground|files|heroBorn|heroName|modalClose|modalWrapper|true|characterFilter|type|switch|toFixed|abs|100|Great|from|not|dead|Baelish|Mormont|Tully|180deg|documentElement|body|main|window|header__dropdown|header__fixed|characters__list|loader__wrapper|Prince|Princess|Queen|King|anapioficeandfire|Asha|Yara|Redwyne|Walder|Hodor|Giantsbane|Nymeros|Septon|Sparrow|Snow|Ramsay|Ramsey|Naharis|Targaryn|Khal|Clegane|Sandor|Hound|Jaime|Jamie|Robb|Rob|Eddard|Ned|Characters|v2|thronesapi|All|filter__house|id|select|label|card__text|card__description|height|width|card__img|blur|card__body|card|list__card|li|console|catch|try|unknown|alive|Alive|logo|2c2c2c|color|background|backdrop|setProperty|bottom|top|right|left|getBoundingClientRect|close|showModal||modal__background|coatOfArms__text|house__logo|character__change|character__chance|character__died|character__born|character__house|character__name|character__image|modal__close|modal__contant|modal|desc'.split('|'),0,{}))

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlci5qcyIsImhlcm8tbW9kYWwuanMiLCJpbnB1dC5qcyIsInJlbmRlci5qcyIsInJlcXVlc3RzLmpzIiwic2NyaXB0LmpzIiwid2luQ2hhbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLz09PT09PT09PT09PT1jaGFyYWN0ZXIgZmlsdGVyPT09PT09PT09PT09PT09PT09Ly9cbmxldCBhbHBoYWJldFNvcnRWYWx1ZSA9ICdhc2MnO1xubGV0IG5hbWVTb3J0VmFsdWUgPSAnJztcbmxldCBob3VzZVNvcnRWYWx1ZSA9ICdhbGwnO1xuXG5jb25zdCBoYW5kbGVBbHBoYWJldEZpbHRlciA9IChsaXN0LCB2YWx1ZSkgPT4ge1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSAnYXNjJzpcbiAgICAgIGxpc3Quc29ydCgoYSwgYikgPT5cbiAgICAgICAgKGEuZnVsbE5hbWUgPiBiLmZ1bGxOYW1lKSA/IDEgOiAoKGIuZnVsbE5hbWUgPiBhLmZ1bGxOYW1lKSA/IC0xIDogMCkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGVzYyc6XG4gICAgICBsaXN0LnNvcnQoKGEsIGIpID0+XG4gICAgICAgIChhLmZ1bGxOYW1lIDwgYi5mdWxsTmFtZSkgPyAxIDogKChiLmZ1bGxOYW1lIDwgYS5mdWxsTmFtZSkgPyAtMSA6IDApKTtcbiAgfVxuICByZXR1cm4gbGlzdDtcbn07XG5cbmNvbnN0IGNoYXJhY3RlckZpbHRlciA9IChsaXN0KSA9PiB7XG4gIGxldCBmaWx0ZXJlZENoYXJhY3RlcnMgPSBoYW5kbGVBbHBoYWJldEZpbHRlcihsaXN0LCBhbHBoYWJldFNvcnRWYWx1ZSk7XG5cbiAgaWYgKGhvdXNlU29ydFZhbHVlICE9PSAnYWxsJykge1xuICAgIGZpbHRlcmVkQ2hhcmFjdGVycyA9IGxpc3QuZmlsdGVyKCh7IGZ1bGxOYW1lLCBob3VzZSB9KSA9PlxuICAgICAgaG91c2UubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gaG91c2VTb3J0VmFsdWUudHJpbSgpXG4gICAgICAmJlxuICAgICAgZnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lU29ydFZhbHVlKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgZmlsdGVyZWRDaGFyYWN0ZXJzID0gbGlzdC5maWx0ZXIoKHsgZnVsbE5hbWUgfSkgPT5cbiAgICAgIGZ1bGxOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZVNvcnRWYWx1ZSkpO1xuICB9XG5cbiAgaWYgKGZpbHRlcmVkQ2hhcmFjdGVycy5sZW5ndGggPT09IDApIHtcbiAgICBjaGFyYWN0ZXJzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJuby1yZXN1bHRzXCI+Tm8gbWF0Y2hlczwvcD4nO1xuICB9IGVsc2Uge1xuICAgIHJlbmRlckNoYXJhY3RlcnMoZmlsdGVyZWRDaGFyYWN0ZXJzKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlRmlsdGVyID0gKHR5cGUsIHZhbHVlLCBsaXN0KSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2FscGhhYmV0aWMnOlxuICAgICAgYWxwaGFiZXRTb3J0VmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbmFtZSc6XG4gICAgICBuYW1lU29ydFZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hvdXNlcyc6XG4gICAgICBob3VzZVNvcnRWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGNoYXJhY3RlckZpbHRlcihsaXN0KTtcbn07XG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cbiIsImNvbnN0IG1vZGFsSGVybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YW50Jyk7XG5jb25zdCBtb2RhbENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZScpO1xuXG5jb25zdCBoZXJvSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19pbWFnZScpO1xuY29uc3QgaGVyb05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19uYW1lJyk7XG5jb25zdCBoZXJvSG91c2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19ob3VzZScpO1xuY29uc3QgaGVyb0Jvcm4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19ib3JuJyk7XG5jb25zdCBoZXJvRGllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXJfX2RpZWQnKTtcbmNvbnN0IGhlcm9DaGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyX19jaGFuY2UnKTtcblxuY29uc3QgY2hhbmdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlcl9fY2hhbmdlJyk7XG5cbmNvbnN0IGhvdXNlTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3VzZV9fbG9nbycpO1xuY29uc3QgaG91c2VXb3JkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2F0T2ZBcm1zX190ZXh0Jyk7XG5jb25zdCBtb2RhbEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmFja2dyb3VuZCcpO1xuXG5jb25zdCBvcGVuTW9kYWwgPSAoKSA9PiBtb2RhbEhlcm8uc2hvd01vZGFsKCk7XG5jb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xuICBoZXJvSG91c2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0YWJsZScpO1xuICBoZXJvSG91c2UuZGlzYWJsZWQgPSB0cnVlO1xuICBoZXJvRGllZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXRhYmxlJyk7XG4gIGhlcm9EaWVkLmRpc2FibGVkID0gdHJ1ZTtcbiAgY2hhbmdlQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBtb2RhbEltZy5zcmMgPSAnJztcbiAgaG91c2VMb2dvLnNyYyA9ICcnO1xuICBob3VzZVdvcmRzLnRleHRDb250ZW50ID0gJyc7XG4gIG1vZGFsSGVyby5jbG9zZSgpO1xufTtcblxubW9kYWxIZXJvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgY29uc3QgZGlhbG9nRGltZW5zaW9ucyA9IG1vZGFsV3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgaWYgKFxuICAgIChlLmNsaWVudFggIT09IDAgJiYgZS5jbGllbnRYIDwgZGlhbG9nRGltZW5zaW9ucy5sZWZ0KSB8fFxuICAgIChlLmNsaWVudFggIT09IDAgJiYgZS5jbGllbnRYID4gZGlhbG9nRGltZW5zaW9ucy5yaWdodCkgfHxcbiAgICAoZS5jbGllbnRZICE9PSAwICYmIGUuY2xpZW50WSA8IGRpYWxvZ0RpbWVuc2lvbnMudG9wKSB8fFxuICAgIChlLmNsaWVudFkgIT09IDAgJiYgZS5jbGllbnRZID4gZGlhbG9nRGltZW5zaW9ucy5ib3R0b20pXG4gICkge1xuICAgIGNsb3NlTW9kYWwoKTtcbiAgfVxufSk7XG5cbm1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTtcblxuY29uc3QgcmVuZGVyTW9kYWxEYXRhID0gKGhlcm8sIGNoYW5jZSkgPT4ge1xuICBjb25zdCB7IGltYWdlVXJsLCBmdWxsTmFtZSwgaG91c2UsIGJvcm4sIGRpZWQgfSA9IGhlcm87XG5cbiAgaGVyb0ltYWdlLnNyYyA9IGltYWdlVXJsLnRyaW0oKTtcbiAgaGVyb0ltYWdlLmFsdCA9IGZ1bGxOYW1lO1xuXG4gIGhlcm9OYW1lLmlubmVySFRNTCA9IGZ1bGxOYW1lO1xuXG4gIGhlcm9Ib3VzZS5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nJHtob3VzZS5uYW1lfScgc2VsZWN0ZWQ+JHtob3VzZS5uYW1lfTwvb3B0aW9uPmA7XG5cbiAgaGVyb0Jvcm4uaW5uZXJIVE1MID0gYm9ybjtcblxuICBoZXJvRGllZC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nJHtkaWVkLnRvTG93ZXJDYXNlKCl9JyBzZWxlY3RlZD4ke2RpZWR9PC9vcHRpb24+YDtcblxuICBoZXJvQ2hhbmNlLmlubmVySFRNTCA9IGNoYW5jZTtcblxuICBjaGFuZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaGVyb0hvdXNlLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUnKTtcbiAgICBoZXJvSG91c2UuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBoZXJvRGllZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2VkaXRhYmxlJyk7XG4gICAgaGVyb0RpZWQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBjaGFuZ2VCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfSk7XG5cbiAgaWYgKGhlcm8uaG91c2UubmFtZSAhPT0gJ1Vua25vd24nKSB7XG4gICAgY29uc3QgZmlsZXMgPSBbJ0JhcmF0aGVvbicsICdCb2x0b24nLCAnR3JleWpveScsICdMYW5uaXN0ZXInLCAnU3RhcmsnLCAnVGFyZ2FyeWVuJywgJ1R5cmVsbCddO1xuICAgIGxldCB7IG5hbWUsIHdvcmRzIH0gPSBoZXJvLmhvdXNlO1xuICAgIG5hbWUgPSBuYW1lLnNwbGl0KCdIb3VzZScpWzFdLnRyaW0oKTtcblxuICAgIGNvbnN0IGltYWdlQmFja2dyb3VuZCA9IGAuL2Rpc3QvaW1nL2hvdXNlU1ZHLyR7bmFtZX0uc3ZnYDtcbiAgICBtb2RhbEhlcm8uc3R5bGUuc2V0UHJvcGVydHkoJzo6YmFja2Ryb3AnLCAnYmFja2dyb3VuZC1jb2xvcjogIzJjMmMyYycpO1xuICAgIG1vZGFsSW1nLnNyYyA9IGZpbGVzLmluY2x1ZGVzKG5hbWUpID8gaW1hZ2VCYWNrZ3JvdW5kIDogYC4vZGlzdC9pbWcvaG91c2VTVkcvdGhyb25lLnN2Z2A7XG4gICAgaG91c2VMb2dvLnNyYyA9IGAuL2Rpc3QvaW1nL2hvdXNlTG9nby8ke25hbWV9LnBuZ2A7XG4gICAgaG91c2VXb3Jkcy50ZXh0Q29udGVudCA9IHdvcmRzICE9PSAnVW5rbm93bicgPyB3b3JkcyA6ICdHYW1lIE9mIFRocm9uZXMnO1xuICB9IGVsc2Uge1xuICAgIG1vZGFsSW1nLnNyYyA9IGAuLi9kaXN0L2ltZy9ob3VzZVNWRy90aHJvbmUuc3ZnYDtcbiAgICBob3VzZUxvZ28uc3JjID0gYC4vZGlzdC9pbWcvbG9nby5wbmdgO1xuICAgIGhvdXNlV29yZHMudGV4dENvbnRlbnQgPSAnR2FtZSBPZiBUaHJvbmVzJztcbiAgfVxuXG4gIGdsb2JhbEhvdXNlc0xpc3QuZm9yRWFjaChcbiAgICAoZSkgPT4gKGhlcm9Ib3VzZS5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9JyR7ZS5uYW1lfSc+JHtlLm5hbWV9PC9vcHRpb24+YClcbiAgKTtcblxuICBbJ0FsaXZlJywgJ0RpZWQnXS5mb3JFYWNoKFxuICAgIChlKSA9PiAoaGVyb0RpZWQuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPScke2UudG9Mb3dlckNhc2UoKX0nPiR7ZX08L29wdGlvbj5gKVxuICApO1xuXG4gIGhlcm9Ib3VzZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBoZXJvLmhvdXNlID0gZ2xvYmFsSG91c2VzTGlzdC5maW5kKChlbCkgPT4gZWwubmFtZSA9PT0gZS50YXJnZXQudmFsdWUpO1xuICAgIGhlcm9DaGFuY2UudGV4dENvbnRlbnQgPSAnSWYgeW91IHdhcyBhbiBhdXRob3Igb2Ygb3JpZ2luYWwgYm9vaywgY2hhbmNlIHdpbGwgYmU6JztcblxuICAgIGhlcm9DaGFuY2UuaW5uZXJIVE1MID1cbiAgICAgICdJZiB5b3Ugd2FzIGFuIGF1dGhvciBvZiBvcmlnaW5hbCBib29rLCBjaGFuY2Ugd2lsbCBiZTogPGJyPicgK1xuICAgICAgd2luQ2hhbmNlKGdsb2JhbENoYXJhY3Rlckxpc3QsIGhlcm8pO1xuICB9KTtcblxuICBoZXJvRGllZC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBoZXJvLmRpZWQgPSBlLnRhcmdldC52YWx1ZSA9PT0gJ2FsaXZlJyB8fCBlLnRhcmdldC52YWx1ZSA9PT0gJ3Vua25vd24nID8gJ1Vua25vd24nIDogJ0RpZWQnO1xuICAgIGhlcm9DaGFuY2UuaW5uZXJIVE1MID1cbiAgICAgICdJZiB5b3Ugd2FzIGFuIGF1dGhvciBvZiBvcmlnaW5hbCBib29rLCBjaGFuY2Ugd2lsbCBiZTogPGJyPicgK1xuICAgICAgd2luQ2hhbmNlKGdsb2JhbENoYXJhY3Rlckxpc3QsIGhlcm8pO1xuICB9KTtcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqIFNldHVwIE1vZGFsIE9uIENsaWNrKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5jb25zdCBoYW5kbGVNb2RhbCA9IChoZXJvKSA9PiB7XG4gIGlmIChoZXJvKSB7XG4gICAgb3Blbk1vZGFsKCk7XG5cbiAgICBjb25zdCBjaGFuY2UgPSB3aW5DaGFuY2UoZ2xvYmFsQ2hhcmFjdGVyTGlzdCwgaGVybyk7XG4gICAgcmVuZGVyTW9kYWxEYXRhKGhlcm8sIGNoYW5jZSk7XG4gIH1cbn07XG4iLCIvLz09PT09PT09PT09PT1jaGFyYWN0ZXIgZmlsdGVyPT09PT09PT09PT09PT09PT09Ly9cbmNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0Jyk7XG4vL1xuY29uc3QgaGFuZGxlTmFtZUZpbHRlciA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNoYXJhY3Rlckxpc3QgfSA9IGF3YWl0IGdldEZ1bGxJbmZvKCk7XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSBpbnB1dC52YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcblxuICAgIGNvbnN0IGZpbHRlcmVkQ2hhcmFjdGVycyA9IGNoYXJhY3Rlckxpc3QuZmlsdGVyKChjaGFyYWN0ZXIpID0+XG4gICAgICBjaGFyYWN0ZXIuZnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJWYWx1ZSlcbiAgICApO1xuXG4gICAgaWYgKGZpbHRlcmVkQ2hhcmFjdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNoYXJhY3RlcnNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cIm5vLXJlc3VsdHNcIj5ObyBtYXRjaGVzPC9wPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYXJhY3RlcnNMaXN0LmlubmVySFRNTCA9ICcnOyAvLyDQntGH0LjRidGD0ZTQvNC+INC/0L7Qv9C10YDQtdC00L3RliDRgNC10LfRg9C70YzRgtCw0YLQuFxuICAgICAgcmVuZGVyQ2hhcmFjdGVycyhmaWx0ZXJlZENoYXJhY3RlcnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfQn9C+0LzQuNC70LrQsCDQv9GA0Lgg0L7RgtGA0LjQvNCw0L3QvdGWINC00LDQvdC40YU6JywgZXJyb3IpO1xuICB9XG59O1xuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBoYW5kbGVOYW1lRmlsdGVyKTtcbiIsImNvbnN0IHJlbmRlckNoYXJhY3RlcnMgPSAobGlzdCkgPT4ge1xuICBjaGFyYWN0ZXJzTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgbGlzdC5mb3JFYWNoKChoZXJvKSA9PiB7XG4gICAgY29uc3QgeyBmdWxsTmFtZSwgaW1hZ2VVcmwgfSA9IGhlcm87XG4gICAgY29uc3QgY2hhcmFjdGVyc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGNoYXJhY3RlcnNJdGVtLmNsYXNzTGlzdC5hZGQoJ2xpc3RfX2NhcmQnLCAnY2FyZCcpO1xuICAgIGNoYXJhY3RlcnNJdGVtLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NhcmRfX2JvZHkgYmx1cic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdjYXJkX19pbWcnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9J2ltZycgc3JjPScke2ltYWdlVXJsfScgYWx0PScke2Z1bGxOYW1lfScgd2lkdGg9JzE1MCcgaGVpZ2h0PScxNTAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdjYXJkX19kZXNjcmlwdGlvbic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9J2NhcmRfX3RleHQnPiR7ZnVsbE5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIGNoYXJhY3RlcnNJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaGFuZGxlTW9kYWwoaGVybykpO1xuICAgIGNoYXJhY3RlcnNMaXN0LmFwcGVuZChjaGFyYWN0ZXJzSXRlbSk7XG4gIH0pO1xufTtcbmNvbnN0IHJlbmRlckZhbWlsaWVzTGlzdCA9IChsaXN0KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGNvbnN0IGZhbWlseUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZmFtaWx5TGFiZWwuZm9yID0gJ2hvdXNlU29ydCc7XG4gIGNvbnN0IGZhbWlsaWVzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBmYW1pbGllc0xpc3QuaWQgPSAnaG91c2VTb3J0JztcbiAgZmFtaWxpZXNMaXN0LmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcl9faG91c2UnKTtcbiAgZmFtaWxpZXNMaXN0LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPSdhbGwnIHNlbGVjdGVkPkFsbDwvb3B0aW9uPmA7XG4gIGxpc3QuZm9yRWFjaCgoeyBuYW1lIH0pID0+IGZhbWlsaWVzTGlzdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9JyR7bmFtZX0nPiR7bmFtZX08L29wdGlvbj5gKTtcbiAgZm9ybS5hcHBlbmQoZmFtaWxpZXNMaXN0KTtcbiAgaW5wdXRCbG9jay5hcHBlbmQoZm9ybSk7XG59OyIsImxldCBnbG9iYWxDaGFyYWN0ZXJMaXN0O1xubGV0IGdsb2JhbEhvdXNlc0xpc3Q7XG5jb25zdCBsb2FkZXJCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9hZGVyQmFyJyk7XG5jb25zdCBnZXRDaGFyYWN0ZXJzTGlzdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vdGhyb25lc2FwaS5jb20vYXBpL3YyL0NoYXJhY3RlcnMnKTtcbiAgbG9hZGVyQmFyLnZhbHVlICs9IE1hdGgucm91bmQoMS44NSk7XG4gIHJldHVybiBkYXRhO1xufTtcbmNvbnN0IGdldEFkZGl0aW9uYWxJbmZvID0gYXN5bmMgKGxpc3QpID0+IHtcbiAgbGV0IGNoYXJhY3Rlckxpc3QgPSBbXTtcbiAgbGV0IGhvdXNlTGlzdCA9IFtdO1xuICBmb3IgKGxldCBjaGFyYWN0ZXIgb2YgbGlzdCkge1xuICAgIGxldCB7IGZ1bGxOYW1lLCBsYXN0TmFtZSB9ID0gY2hhcmFjdGVyO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1JvYmVydCBCYXJhdGhlb24nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnUm9iZXJ0IEkgQmFyYXRoZW9uJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdOZWQgU3RhcmsnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnRWRkYXJkIFN0YXJrJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdSb2IgU3RhcmsnKSBmdWxsTmFtZSA9ICdSb2JiIFN0YXJrJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdKYW1pZSBMYW5uaXN0ZXInKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnSmFpbWUgTGFubmlzdGVyJztcbiAgICBpZiAoZnVsbE5hbWUgPT09ICdUaGUgSG91bmQnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnU2FuZG9yIENsZWdhbmUnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0toYWwgRHJvZ28nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnRHJvZ28nO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ1Zpc2VyeXMgVGFyZ2FyeW4nKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnVmlzZXJ5cyBUYXJnYXJ5ZW4nO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0RhYXJpbycpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdEYWFyaW8gTmFoYXJpcyc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnUmFtc2V5IEJvbHRvbicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdSYW1zYXkgU25vdyc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnVGhlIEhpZ2ggU3BhcnJvdycpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdIaWdoIFNlcHRvbic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnT2JlcnluIE1hcnRlbGwnKSBjaGFyYWN0ZXIuZnVsbE5hbWUgPSAnT2JlcnluIE55bWVyb3MgTWFydGVsbCc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnVG9ybXVuZCBHaWFudHNiYW5lJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1Rvcm11bmQnO1xuICAgIGlmIChmdWxsTmFtZSA9PT0gJ0hvZG9yJykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ1dhbGRlcic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnT2xlbm5hIFR5cmVsbCcpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdPbGVubmEgUmVkd3luZSc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnTG9yZCBCcm9ubicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdCcm9ubic7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnWWFyYSBHcmV5am95JykgY2hhcmFjdGVyLmZ1bGxOYW1lID0gJ0FzaGEgR3JleWpveSc7XG4gICAgaWYgKGZ1bGxOYW1lID09PSAnR2VuZHJ5IEJhcmF0aGVvbicpIGNoYXJhY3Rlci5mdWxsTmFtZSA9ICdHZW5kcnknO1xuICAgIGZ1bGxOYW1lID0gY2hhcmFjdGVyLmZ1bGxOYW1lO1xuICAgIGF3YWl0IGF4aW9zXG4gICAgICAuZ2V0KCdodHRwczovL2FuYXBpb2ZpY2VhbmRmaXJlLmNvbS9hcGkvY2hhcmFjdGVycz9uYW1lPScgKyBmdWxsTmFtZSlcbiAgICAgIC50aGVuKGFzeW5jICh7IGRhdGEgfSkgPT4ge1xuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHsgYWxsZWdpYW5jZXMsIGdlbmRlciwgYm9ybiwgZGllZCwgdGl0bGVzLCB0dlNlcmllcyB9IG9mIGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0dlNlcmllcyAmJiB0dlNlcmllcy5sZW5ndGggPiAwICYmIHR2U2VyaWVzWzBdICE9PSAnJykge1xuICAgICAgICAgICAgICBsZXQgaG91c2VJbmZvID0gW107XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaG91c2Ugb2YgYWxsZWdpYW5jZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChob3VzZSk7XG4gICAgICAgICAgICAgICAgaG91c2VJbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLnNwbGl0KCdvZicpWzBdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgIHdvcmRzOiBkYXRhLndvcmRzID8gZGF0YS53b3JkcyA6ICdVbmtub3duJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGhvdXNlSW5mby5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVuaXF1ZUhvdXNlID0gaG91c2VJbmZvLmZpbmQoKGUpID0+IGUubmFtZS5pbmNsdWRlcyhsYXN0TmFtZSkpO1xuICAgICAgICAgICAgICAgIGhvdXNlSW5mbyA9IFt1bmlxdWVIb3VzZSA/IHVuaXF1ZUhvdXNlIDogaG91c2VJbmZvWzBdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlcy5maW5kKFxuICAgICAgICAgICAgICAgIChlKSA9PlxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnS2luZycpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdRdWVlbicpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdQcmluY2VzcycpIHx8XG4gICAgICAgICAgICAgICAgICBlLmluY2x1ZGVzKCdQcmluY2UnKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnU2VyJykgfHxcbiAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoJ0xvcmQnKSB8fFxuICAgICAgICAgICAgICAgICAgZS5pbmNsdWRlcygnU2VyJylcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBjb25zdCBhZGRvbiA9IHtcbiAgICAgICAgICAgICAgICBob3VzZTogaG91c2VJbmZvLmxlbmd0aCA+IDAgPyBob3VzZUluZm9bMF0gOiB7IG5hbWU6ICdVbmtub3duJywgd29yZHM6ICdVbmtub3duJyB9LFxuICAgICAgICAgICAgICAgIGdlbmRlcjogZ2VuZGVyID8gZ2VuZGVyIDogJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgIGJvcm46IGJvcm4gPyBib3JuIDogJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgIGRpZWQ6IGRpZWQgPyBkaWVkIDogJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSA/IHRpdGxlIDogJydcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY2hhcmFjdGVyTGlzdC5wdXNoKHsgLi4uY2hhcmFjdGVyLCAuLi5hZGRvbiB9KTtcbiAgICAgICAgICAgICAgaG91c2VMaXN0LnB1c2goYWRkb24uaG91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhZGRvbiA9IHtcbiAgICAgICAgICAgIGhvdXNlOiB7IG5hbWU6ICdVbmtub3duJywgd29yZHM6ICdVbmtub3duJyB9LFxuICAgICAgICAgICAgZ2VuZGVyOiAnVW5rbm93bicsXG4gICAgICAgICAgICBib3JuOiAnVW5rbm93bicsXG4gICAgICAgICAgICBkaWVkOiAnVW5rbm93bidcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY2hhcmFjdGVyTGlzdC5wdXNoKHsgLi4uY2hhcmFjdGVyLCAuLi5hZGRvbiB9KTtcbiAgICAgICAgICBob3VzZUxpc3QucHVzaChhZGRvbi5ob3VzZSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyQmFyLnZhbHVlID0gTWF0aC5yb3VuZCgxLjg1KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhcmFjdGVyTGlzdCA9IGNoYXJhY3Rlckxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gY2hhcmFjdGVyTGlzdC5maW5kSW5kZXgoKG8pID0+IG9iai5mdWxsTmFtZSA9PT0gby5mdWxsTmFtZSlcbiAgKTtcbiAgY2hhcmFjdGVyTGlzdCA9IGhhbmRsZUFscGhhYmV0RmlsdGVyKGNoYXJhY3Rlckxpc3QsICdhc2MnKTtcblxuICBob3VzZUxpc3QgPSBob3VzZUxpc3QuZmlsdGVyKFxuICAgIChvYmosIGluZGV4KSA9PiBpbmRleCA9PT0gaG91c2VMaXN0LmZpbmRJbmRleCgobykgPT4gb2JqLm5hbWUgPT09IG8ubmFtZSlcbiAgKTtcblxuICBob3VzZUxpc3Quc29ydCgoYSwgYikgPT4gKGEubmFtZSA+IGIubmFtZSA/IDEgOiBiLm5hbWUgPiBhLm5hbWUgPyAtMSA6IDApKTtcblxuICBjaGFyYWN0ZXJMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICBpZiAoZS5ob3VzZS5uYW1lID09PSAnVW5rbm93bicpIHtcbiAgICAgIGNvbnN0IGZpbmRIb3VzZSA9IGhvdXNlTGlzdC5maW5kKChlbCkgPT4gZS5sYXN0TmFtZSAhPT0gJycgJiYgZWwubmFtZS5pbmNsdWRlcyhlLmxhc3ROYW1lKSk7XG4gICAgICBlLmhvdXNlID0gZmluZEhvdXNlID8gZmluZEhvdXNlIDogZS5ob3VzZTtcbiAgICB9XG4gIH0pO1xuICBnbG9iYWxDaGFyYWN0ZXJMaXN0ID0gY2hhcmFjdGVyTGlzdDtcbiAgZ2xvYmFsSG91c2VzTGlzdCA9IGhvdXNlTGlzdDtcbiAgcmV0dXJuIHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH07XG59O1xuXG5jb25zdCBnZXRGdWxsSW5mbyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgY2hhcmFjdGVycyA9IGF3YWl0IGdldENoYXJhY3RlcnNMaXN0KCk7XG4gIGNvbnN0IHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH0gPSBhd2FpdCBnZXRBZGRpdGlvbmFsSW5mbyhjaGFyYWN0ZXJzKTtcbiAgcmV0dXJuIHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH07XG59O1xuIiwiY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290Jyk7XG5yb290LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbmNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXJfX3dyYXBwZXInKTtcbmNvbnN0IGNoYXJhY3RlcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3RlcnNfX2xpc3QnKTtcbmNvbnN0IGlucHV0QmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX19ibG9jaycpO1xuXG5jb25zdCBoZWFkZXJGaXhlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2ZpeGVkJyk7XG5cbmNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fZHJvcGRvd24nKTtcbmNvbnN0IGZpbHRlckJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl9fYmxvY2snKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgbGV0IG1haW5OZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPiA1MCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID4gNTApIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmNsaWVudEhlaWdodCA8IDU2MCkge1xuICAgICAgbWFpbk5ldy5jbGFzc0xpc3QuYWRkKCdtYWluTmV3Jyk7XG4gICAgfVxuICAgIGhlYWRlckZpeGVkLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbCcpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuY2xpZW50SGVpZ2h0ID4gNTYwKSB7XG4gICAgICBtYWluTmV3LmNsYXNzTGlzdC5yZW1vdmUoJ21haW5OZXcnKTtcbiAgICB9XG4gICAgaGVhZGVyRml4ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsJyk7XG4gIH1cbn0pO1xuXG5sZXQgaXNPcGVuID0gZmFsc2U7XG5kcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaXNPcGVuID8gZmlsdGVyQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykgOiBmaWx0ZXJCbG9jay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgaXNPcGVuID8gKGRyb3Bkb3duLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMCknKSA6IChkcm9wZG93bi5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDE4MGRlZyknKTtcbiAgaXNPcGVuID0gIWlzT3Blbjtcbn0pO1xuXG5nZXRGdWxsSW5mbygpLnRoZW4oKHsgY2hhcmFjdGVyTGlzdCwgaG91c2VMaXN0IH0pID0+IHtcbiAgcmVuZGVyQ2hhcmFjdGVycyhjaGFyYWN0ZXJMaXN0KTtcbiAgcmVuZGVyRmFtaWxpZXNMaXN0KGhvdXNlTGlzdCk7XG4gIHJvb3Quc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGxvYWRlci5yZW1vdmUoKTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipGSUxURVIqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBjb25zdCBuYW1lRmluZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpO1xuICBjb25zdCBob3VzZVNvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG91c2VTb3J0Jyk7XG4gIGNvbnN0IGFscGhhYmV0U29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbHBoYWJldFNvcnQnKTtcbiAgY29uc3QgY2xlYXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGVhcklucHV0Jyk7XG4gIGFscGhhYmV0U29ydC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoeyB0YXJnZXQgfSkgPT5cbiAgICBoYW5kbGVGaWx0ZXIoJ2FscGhhYmV0aWMnLCB0YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpXG4gICk7XG5cbiAgbmFtZUZpbmQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoeyB0YXJnZXQgfSkgPT5cbiAgICBoYW5kbGVGaWx0ZXIoJ25hbWUnLCB0YXJnZXQudmFsdWUsIGNoYXJhY3Rlckxpc3QpXG4gICk7XG5cbiAgaG91c2VTb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICh7IHRhcmdldCB9KSA9PlxuICAgIGhhbmRsZUZpbHRlcignaG91c2VzJywgdGFyZ2V0LnZhbHVlLCBjaGFyYWN0ZXJMaXN0KVxuICApO1xuXG4gIGNsZWFySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmFtZUZpbmQudmFsdWUgPSAnJztcbiAgICBoYW5kbGVGaWx0ZXIoJ25hbWUnLCAnJywgY2hhcmFjdGVyTGlzdCk7XG4gIH0pO1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xufSk7XG4iLCJjb25zdCBncmVhdEhvdXNlcyA9IFtcbiAgJ0hvdXNlIFN0YXJrJyxcbiAgJ0hvdXNlIFRhcmdhcnllbicsXG4gICdIb3VzZSBMYW5uaXN0ZXInLFxuICAnSG91c2UgVHlyZWxsJyxcbiAgJ0hvdXNlIEJhcmF0aGVvbicsXG4gICdIb3VzZSBHcmV5am95JyxcbiAgJ0hvdXNlIFR1bGx5JyxcbiAgJ0hvdXNlIE1vcm1vbnQnLFxuICAnSG91c2UgTWFydGVsbCcsXG4gICdIb3VzZSBCb2x0b24nLFxuICAnSG91c2UgQmFlbGlzaCdcbl07XG5jb25zdCB3aW5DaGFuY2UgPSAobGlzdCwgaGVybykgPT4ge1xuICBsZXQgd2lubmVyO1xuXG4gIGxpc3QgPSBsaXN0LmZpbHRlcigoeyBob3VzZSwgZGllZCB9KSA9PiBncmVhdEhvdXNlcy5pbmNsdWRlcyhob3VzZS5uYW1lKSAmJiBkaWVkID09PSAnVW5rbm93bicpO1xuXG4gIGlmICghbGlzdC5pbmNsdWRlcyhoZXJvKSkge1xuICAgIGlmIChoZXJvLmRpZWQgIT09ICdVbmtub3duJykgd2lubmVyID0gKCdTb3JyeSwgeW91ciBjaGFyYWN0ZXIgaXMgZGVhZCcpO1xuICAgIGlmICghZ3JlYXRIb3VzZXMuaW5jbHVkZXMoaGVyby5ob3VzZS5uYW1lKSkgd2lubmVyID0gKCdTb3JyeSwgeW91ciBjaGFyYWN0ZXIgaXMgbm90IGZyb20gR3JlYXQgSG91c2UnKTtcbiAgfSBlbHNlIHtcbiAgICBsaXN0ID0gbGlzdC5maWx0ZXIoKHsgdGl0bGUgfSkgPT4gdGl0bGUgIT09ICcnKTtcbiAgICBsaXN0LnNvcnQoKGEsIGIpID0+IChhLmJvcm4gPCBiLmJvcm4pID8gMSA6ICgoYi5ib3JuIDwgYS5ib3JuKSA/IC0xIDogMCkpO1xuXG4gICAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgbGlzdCA9IGxpc3QuZmluZEluZGV4KCh7IGZ1bGxOYW1lIH0pID0+IGZ1bGxOYW1lID09PSBoZXJvLmZ1bGxOYW1lKTtcblxuICAgIHdpbm5lciA9ICgoKCgxIC8gbGVuZ3RoKSAqIDEwMCkgKyBNYXRoLmFicyhsaXN0KSkudG9GaXhlZCgyKSArICclJyk7XG4gIH1cbiAgcmV0dXJuIHdpbm5lcjtcbn07Il19
